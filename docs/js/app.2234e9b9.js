(function(e){function t(t){for(var c,o,i=t[0],u=t[1],l=t[2],s=0,d=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(e[c]=u[c]);f&&f(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],c=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(c=!1)}c&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var c={},r={app:0},a=[];function o(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=c,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)o.d(n,c,function(t){return e[t]}.bind(null,c));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var f=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0417":function(e,t,n){"use strict";n("70d6")},"18df":function(e,t,n){},"2d01":function(e,t,n){},"30eb":function(e,t,n){},"4d05":function(e,t,n){},"541e":function(e,t,n){"use strict";n("9fe6")},6262:function(e,t,n){},"6f3c":function(e,t,n){"use strict";n("8a1a")},"70d6":function(e,t,n){},"7dcb":function(e,t,n){"use strict";n("18df")},"82f2":function(e,t,n){"use strict";n("30eb")},"8a1a":function(e,t,n){},"9fe6":function(e,t,n){},a195:function(e,t,n){"use strict";n("2d01")},ad42:function(e,t,n){"use strict";n("4d05")},b474:function(e,t,n){},bcf1:function(e,t,n){"use strict";n("b474")},cd49:function(e,t,n){"use strict";n.r(t);n("4160"),n("b0c0"),n("159b"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function r(e,t){var n=Object(c["t"])("calculator"),r=Object(c["t"])("calendar"),a=Object(c["t"])("layout"),o=Object(c["t"])("window-container");return Object(c["k"])(),Object(c["d"])(o,{class:"window-manage","bg-url":e.bgUrl},{default:Object(c["x"])((function(){return[Object(c["f"])(n),Object(c["f"])(r),Object(c["f"])(a),Object(c["f"])(n),Object(c["f"])(r),Object(c["f"])(a),Object(c["f"])(n),Object(c["f"])(r),Object(c["f"])(a),Object(c["f"])(n),Object(c["f"])(r),Object(c["f"])(a),Object(c["f"])(n),Object(c["f"])(r),Object(c["f"])(a),Object(c["f"])(n),Object(c["f"])(r),Object(c["f"])(a)]})),_:1},8,["bg-url"])}var a=Object(c["o"])({darkMode:!0,idPool:{window:[],"block-container":[]}}),o=(n("99af"),n("cb29"),n("4de4"),n("d81d"),n("a434"),n("4fad"),n("2909")),i=function(e){var t=e>>16,n=e>>8&255,c=255&e;return[t,n,c]},u=function(e){var t=a.idPool[e],n=0!==t.length?t[t.length-1]+1:0;return t.push(n),n},l=function(e,t){return Array(e).fill(null).map((function(e,n){return t(n)}))},f={xs:0,sm:-1,md:-2,lg:-3,xl:-4},s=Object(c["p"])(["xs","sm","md","lg","xl"]),d=Object(c["p"])(Object(o["a"])(s).reverse()),b=function(){var e=Object(c["h"])("window-size");if(!e)throw new Error("useBreakPoint必须在window组件的包裹的组件内");return Object(c["b"])((function(){var t=e.width;return{xs:t<578,sm:t<768,md:t<992,lg:t<1200,xl:!0}}))},O=function(){var e=b();return Object(c["b"])((function(){return Object.entries(e.value).filter((function(e){return e[1]})).sort((function(e,t){return f[t[0]]-f[e[0]]})).map((function(e){return e[0]}))}))},v=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];return e.splice.apply(e,[0,e.length].concat(n)),e};function j(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];return function(){for(var t=arguments.length,c=new Array(t),r=0;r<t;r++)c[r]=arguments[r];return e.apply(void 0,n.concat(c))}}var p=Object(c["z"])("data-v-5ff25644");Object(c["n"])("data-v-5ff25644");var w={class:"temp-area"},h={class:"display-area"};Object(c["l"])();var g=p((function(e,t){var n=Object(c["t"])("reveal"),r=Object(c["t"])("reveal-container"),a=Object(c["t"])("window");return Object(c["k"])(),Object(c["d"])(a,{name:"计算器",dark:!1,size:{height:384,width:512}},{default:p((function(){return[Object(c["f"])(r,null,{default:p((function(){return[Object(c["f"])("div",w,Object(c["u"])(e.tempText),1),Object(c["f"])("div",h,Object(c["u"])(e.displayText),1),Object(c["f"])("div",null,[(Object(c["k"])(!0),Object(c["d"])(c["a"],null,Object(c["r"])(e.operators,(function(t){return Object(c["k"])(),Object(c["d"])(n,{key:t,class:"key-btn op-btn",onClick:function(n){return e.keydown(t)}},{default:p((function(){return[Object(c["e"])(Object(c["u"])(t),1)]})),_:2},1032,["onClick"])})),128))]),Object(c["f"])("div",null,[(Object(c["k"])(!0),Object(c["d"])(c["a"],null,Object(c["r"])(e.numKeys,(function(t){return Object(c["k"])(),Object(c["d"])(n,{key:t,class:"key-btn",onClick:function(n){return e.keydown(t)}},{default:p((function(){return[Object(c["e"])(Object(c["u"])(t),1)]})),_:2},1032,["onClick"])})),128))])]})),_:1})]})),_:1})})),y=(n("a15b"),n("a9e3"),Object(c["g"])({setup:function(){var e=Object(c["o"])([0]),t=Object(c["b"])((function(){return e.join("")})),n=Object(c["o"])(new Array),r=Object(c["b"])((function(){return n.join("")})),a=Object(c["o"])(l(10,(function(e){return e}))),i=function(e,t,n){switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n}},u=function(){var e=function(){var e=n.shift();while(e&&"number"===typeof n[0])e="".concat(e).concat(n.shift());return Number(e)},t=e();while(n.length&&void 0!==t){var c=n.shift(),r=e();t=i(c,t,r)}return t},f=function(t){var c=e;switch(t){case"c":v(c,0),v(n);break;case"+":case"-":case"*":case"/":c.push(t),n.push(t);break;case"ce":v(c,0);break;case"=":v.apply(void 0,[c].concat(Object(o["a"])(n),["=",u()]));break;case"del":c.pop(),n.pop();break;default:n.push(t),"number"!==typeof c[c.length-1]&&v(c),1===c.length&&0===c[0]&&c.pop(),c.push(t);break}},s=Object(c["o"])(["+","-","*","/","c","ce","=","del"]);return{numKeys:a,displayText:t,keydown:f,operators:s,tempText:r}}}));n("a195");y.render=g,y.__scopeId="data-v-5ff25644";var m=y,k=Object(c["z"])("data-v-709ee116");Object(c["n"])("data-v-709ee116");var x={class:"profile"},S={class:"action-bar"},z={class:"title"},_={key:1,class:"block-adapter table-cell"};Object(c["l"])();var C=k((function(e,t){var n=Object(c["t"])("reveal"),r=Object(c["t"])("reveal-container"),a=Object(c["t"])("window");return Object(c["k"])(),Object(c["d"])(a,{name:"日历",size:{height:550,width:448}},{default:k((function(){return[Object(c["f"])(r,null,{default:k((function(){return[Object(c["f"])("div",x,[Object(c["f"])("div",S,[Object(c["f"])(n,null,{default:k((function(){return[Object(c["f"])("div",{class:"action-icon",onClick:t[1]||(t[1]=function(t){return e.onActionBtnClick("decr")})},"←")]})),_:1}),Object(c["f"])(n,null,{default:k((function(){return[Object(c["f"])("div",{class:"action-icon",onClick:t[2]||(t[2]=function(t){return e.onActionBtnClick("incr")})},"→")]})),_:1})]),Object(c["f"])("div",z,Object(c["u"])(e.day.format("L")),1)]),Object(c["f"])("div",null,[(Object(c["k"])(),Object(c["d"])(c["a"],null,Object(c["r"])(7,(function(t){return Object(c["f"])("span",{key:t,class:"table-cell block-adapter"},"星期"+Object(c["u"])(e.bucketsMap[t-1]),1)})),64)),(Object(c["k"])(!0),Object(c["d"])(c["a"],null,Object(c["r"])(e.buckets,(function(t,r){return Object(c["k"])(),Object(c["d"])("div",{key:r},[(Object(c["k"])(!0),Object(c["d"])(c["a"],null,Object(c["r"])(t,(function(t,r){return Object(c["k"])(),Object(c["d"])("span",{key:r},[void 0!==t?Object(c["f"])(n,{key:0,class:"day table-cell","data-now":e.day.get("date")===t,onClick:function(n){return e.onDayBtnClick(t)}},{default:k((function(){return[Object(c["e"])(Object(c["u"])(t),1)]})),_:2},1032,["data-now","onClick"]):(Object(c["k"])(),Object(c["d"])("div",_))])})),128))])})),128))])]})),_:1})]})),_:1})})),P=(n("13d5"),n("5a0c")),M=n.n(P),R=n("23ad"),A=n.n(R);n("a471");M.a.locale("zh-cn"),M.a.extend(A.a);var I=function(e,t){return M()().set("year",t).set("month",e+1).set("date",-1).get("date")+1},B=Object(c["g"])({setup:function(){var e=Object(c["q"])(M()()),t=Object(c["b"])((function(){return I(e.value.get("month"),e.value.get("year"))})),n=function(t){switch(t){case"incr":e.value=e.value.add(1,"month");break;case"decr":e.value=e.value.subtract(1,"month");break}},r=function(t){e.value=e.value.set("date",t)},a=Object(c["b"])((function(){return l(t.value,(function(e){return e+1})).reduce((function(t,n){var c,r=e.value.set("date",n),a=r.get("day");return 0===a||t[t.length-1].length>6?(c=new Array,t.push(c)):c=t[t.length-1],c[a]=n,t}),[[]])})),o="天一二三四五六";return{days:t,day:e,onActionBtnClick:n,onDayBtnClick:r,bucketsMap:o,buckets:a}}});n("6f3c");B.render=C,B.__scopeId="data-v-709ee116";var L=B,q=Object(c["e"])("hello"),E=Object(c["e"])("world");function T(e,t){var n=Object(c["t"])("reveal"),r=Object(c["t"])("fd-col"),a=Object(c["t"])("fd-row"),o=Object(c["t"])("reveal-container"),i=Object(c["t"])("window");return Object(c["k"])(),Object(c["d"])(i,{"init-pos":{top:512,left:480},name:"响应式24栏栅格"},{default:Object(c["x"])((function(){return[Object(c["f"])(o,null,{default:Object(c["x"])((function(){return[Object(c["f"])(a,null,{default:Object(c["x"])((function(){return[(Object(c["k"])(!0),Object(c["d"])(c["a"],null,Object(c["r"])(e.blocks,(function(e){return Object(c["k"])(),Object(c["d"])(r,{key:e,span:{xs:6,md:5,xl:4},offset:{xs:0,md:1,xl:2}},{default:Object(c["x"])((function(){return[Object(c["f"])(n,{value:e},{default:Object(c["x"])((function(){return[Object(c["e"])(Object(c["u"])(e),1)]})),_:2},1032,["value"])]})),_:2},1024)})),128))]})),_:1}),Object(c["f"])(a,null,{default:Object(c["x"])((function(){return[(Object(c["k"])(!0),Object(c["d"])(c["a"],null,Object(c["r"])(e.blocks,(function(e){return Object(c["k"])(),Object(c["d"])(r,{key:e,span:{xs:8,xl:6}},{default:Object(c["x"])((function(){return[Object(c["f"])(n,{value:e},{default:Object(c["x"])((function(){return[Object(c["e"])(Object(c["u"])(e),1)]})),_:2},1032,["value"])]})),_:2},1024)})),128))]})),_:1}),Object(c["f"])(a,null,{default:Object(c["x"])((function(){return[Object(c["f"])(r,{span:"4",offset:"3"},{default:Object(c["x"])((function(){return[q]})),_:1}),Object(c["f"])(r,{span:"4",offset:"3"},{default:Object(c["x"])((function(){return[E]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var $=Object(c["g"])({name:"App",setup:function(){var e=Object(c["o"])(l(6,(function(e){return String.fromCharCode(65+e)})));return{blocks:e}}});$.render=T;var D=$,N="https://static.ioflow.link/0cfedb5240eadc505e723bf2bc4f14e8bf7eb3fb96fc6ea53e856f3f863c2ba0d38f83de492f609290bc6ad0a9a2b583.jpg",U=Object(c["g"])({components:{calculator:m,calendar:L,layout:D},name:"App",setup:function(){var e=Object(c["o"])(l(6,(function(e){return String.fromCharCode(65+e)})));return{window:window,darkMode:Object(c["v"])(a,"darkMode"),blocks:e,bgUrl:N}}});U.render=r;var W=U,X=Object(c["z"])("data-v-0e75ba50");Object(c["n"])("data-v-0e75ba50");var Y={class:"blur-layer"},F=Object(c["f"])("div",{class:"noise-layer"},null,-1);Object(c["l"])();var G=X((function(e,t){return Object(c["k"])(),Object(c["d"])("div",{class:"container-wrap",style:e.style,onMousedown:t[1]||(t[1]=Object(c["y"])((function(){return e.control.apply(e,arguments)}),["left"])),onMouseup:t[2]||(t[2]=Object(c["y"])((function(){return e.release.apply(e,arguments)}),["left"])),onMouseleave:t[3]||(t[3]=function(){return e.release.apply(e,arguments)}),"data-window-switch":1!==e.state.scale},[Object(c["f"])("div",Y,[Object(c["f"])("div",{class:"color-layer",style:e.colorLayerStyle},[F],4)]),Object(c["f"])("div",{class:"content",style:"color:".concat(e.darkMode?"white":"black")},[Object(c["s"])(e.$slots,"default")],4)],44,["data-window-switch"])})),J=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),new Map),H=function(e,t){var n=J.get(e);n?n.push(t):J.set(e,[t])},K=function(e){return J.get(e)||[]},Q=(n("a630"),n("6062"),{start:"move",resize:"nwse-resize"}),V=function(e,t,n){return Object(c["o"])({offset:{top:0,left:0},size:n,zIndex:0,backgroundPos:{top:0,left:0},flagSet:new Set,initPos:e,name:t,scale:1,id:u("window"),styles:new Array})},Z=function(e){var t=e,n=Object(c["b"])((function(){var n={top:(-t.offset.top-t.initPos.top)/e.scale-2+16,left:(-t.offset.left-t.initPos.left)/e.scale-2+16},c=new Array;return c.push("\n    background-position:".concat(n.left,"px ").concat(n.top,"px;\n    transform:translate(").concat(t.offset.left,"px,").concat(t.offset.top,"px) scale(").concat(t.scale,");\n    cursor:").concat(Q[Array.from(t.flagSet.keys())[0]],";\n    width:").concat(t.size.width,"px;\n    height:").concat(t.size.height,"px;\n    top:").concat(t.initPos.top,"px;\n    left:").concat(t.initPos.left,"px;\n    z-index:").concat(t.zIndex,";\n    background-size:").concat(1/e.scale*100,"vw;\n    transform-origin: top left;")),e.flagSet.has("animal")&&c.push("transition: all .7s linear"),e.flagSet.has("ani-delay")&&c.push("transition-delay: .1s"),[].concat(Object(o["a"])(e.styles),c).join(";")}));return{style:n}},ee=1,te=function(){return++ee},ne=function(e){var t=Object(c["h"])("add-trigger-window"),n=function(n){t&&t("click",e),e.flagSet.add("start"),e.zIndex<ee&&(console.log(e.flagSet.has("animal")),e.zIndex=ee+1,ee=e.zIndex)},r=new Array,a=e,o=function(e){if(!a.flagSet.has("tile")){var t=e.type;switch(t){case"mouseleave":!a.flagSet.has("resize")&&a.flagSet.clear();break;case"mouseup":a.flagSet.clear();break}}},i=function(e){if(!a.flagSet.has("tile")){a.flagSet.has("start")&&(a.flagSet.has("resize")?(a.size.width+=e.movementX,a.size.height+=e.movementY):(a.offset.left+=e.movementX,a.offset.top+=e.movementY));var t=a.offset.left+a.initPos.left+a.size.width,n=a.offset.top+a.initPos.top+a.size.height,c=16;if(t-e.pageX>0&&t-e.pageX<c&&n-e.pageY>0&&n-e.pageY<c)a.flagSet.has("resize")||r.push(Array.from(a.flagSet)),a.flagSet.add("resize");else if(a.flagSet.has("resize")){var o=r.pop();o&&(a.flagSet.clear(),o.forEach((function(e){return a.flagSet.add(e)})))}}};return{release:o,control:n,move:i}},ce=Object(c["g"])({name:"window",props:{initPos:{default:function(){return{top:256,left:256}}},name:{type:String,default:""},dark:{type:Boolean,default:void 0},size:{default:function(){return{width:512,height:256}}}},setup:function(e){var t=e,n=V(t.initPos,t.name,t.size),r=Z(n),o=r.style,u=ne(n),l=u.move,f=u.control,s=u.release;Object(c["m"])("window-size",n.size),Object(c["m"])("window-offset",n.offset),Object(c["m"])("window-state",Object(c["q"])(n));var d=Object(c["h"])("window-regist");Object(c["i"])((function(){H("mousemove",l),d&&d(n)}));var b=Object(c["q"])(void 0===e.dark?Object(c["v"])(a,"darkMode"):e.dark),O=Object(c["b"])((function(){return"background: rgba(".concat(i(b.value?0:16777215),", 0.4)")}));return{style:o,colorLayerStyle:O,release:s,control:f,darkMode:b,state:n}}});n("7dcb");ce.render=G,ce.__scopeId="data-v-0e75ba50";var re=ce,ae=Object(c["z"])("data-v-624bc09c");Object(c["n"])("data-v-624bc09c");var oe={class:"block",ref:"domRef"};Object(c["l"])();var ie=ae((function(e,t){return Object(c["k"])(),Object(c["d"])("div",oe,[Object(c["s"])(e.$slots,"default")],512)})),ue=Object(c["g"])({name:"reveal",props:{value:{type:String}},setup:function(e){var t,n=Object(c["q"])(),r=Object(c["q"])(null),a=Object(c["q"])(),o=Object(c["h"])("unmounted-block"),i=Object(c["h"])("regist-any-block"),u=Object(c["h"])("update-block-state"),l=Object(c["h"])("on-will-update-rect");return Object(c["i"])((function(){var c=n.value;if(!c)throw new Error("任意形状块获取dom失败!!!");if(!(i&&u&&l))throw new Error("block组件必须在block-container组件的包裹下");t=new ResizeObserver((function(t){r.value=t[0].target.getBoundingClientRect(),u({value:e.value,rect:r.value,id:a.value||-1})})),t.observe(c),a.value=i({value:e.value,rect:r.value,id:-1}),l((function(){r.value=c.getBoundingClientRect(),u({value:e.value,rect:r.value,id:a.value})}),a.value)})),Object(c["j"])((function(){var e=n.value;e&&t&&t.disconnect(),o&&o(a.value)})),{domRef:n}}});n("541e");ue.render=ie,ue.__scopeId="data-v-624bc09c";var le=ue,fe=Object(c["z"])("data-v-6164e438");Object(c["n"])("data-v-6164e438");var se=Object(c["f"])("stop",{offset:"0%","stop-color":"white"},null,-1),de=Object(c["f"])("stop",{offset:"100%","stop-color":"transparent"},null,-1);Object(c["l"])();var be=fe((function(e,t){return Object(c["k"])(),Object(c["d"])("div",{class:"block-container",onMousemove:t[1]||(t[1]=function(){return e.control.apply(e,arguments)}),onMouseleave:t[2]||(t[2]=function(){return e.release.apply(e,arguments)}),ref:"blockContainerRef"},[Object(c["s"])(e.$slots,"default"),(Object(c["k"])(),Object(c["d"])("svg",{class:"svg-mask",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 ".concat(Math.max(e.windowSize.width-32,0)," ").concat(Math.max(e.windowSize.height-32,0)),ref:"svgRef"},[Object(c["f"])("defs",null,[Object(c["f"])("radialGradient",{id:"Gradient-".concat(e.id),cx:e.svgCursorPercent.x,cy:e.svgCursorPercent.y,r:"0.2"},[se,de],8,["id","cx","cy"]),Object(c["f"])("mask",{id:"Mask-".concat(e.id)},[(Object(c["k"])(!0),Object(c["d"])(c["a"],null,Object(c["r"])(e.layout,(function(e){return Object(c["k"])(),Object(c["d"])("rect",{x:e.x-1,y:e.y-1,width:e.width,height:e.height,key:e.i,fill:"black",stroke:"white","stroke-width":"2"},null,8,["x","y","width","height"])})),128))],8,["id"])]),Object(c["f"])("rect",{x:"0",y:"0",width:e.maxSide,height:e.maxSide,fill:e.isStart?"url('#Gradient-".concat(e.id,"')"):"transparent",mask:e.isStart?"url('#Mask-".concat(e.id,"')"):void 0},null,8,["width","height","fill","mask"])],8,["viewBox"]))],544)})),Oe=(n("c740"),n("2ef0")),ve=function(e,t,n){var r=Object(c["q"])(),a=Object(c["q"])(),o={ro:new ResizeObserver((function(){a.value=r.value.getBoundingClientRect()})),mounted:function(){var e=r.value;if(!e)throw new Error("获取svg dom失败!!!");a.value=e.getBoundingClientRect(),o.ro.observe(e)},unmounted:function(){o.ro.disconnect()}},i=Object(c["q"])({x:0,y:0}),u=Object(c["b"])((function(){return Math.max(e.value.height-32,e.value.width-32,0)})),l=Object(c["o"])(new Set),f=function(){l.add("start")},s=function(){l.delete("start")},d=function(e){if(!(null===n||void 0===n?void 0:n.value.flagSet.has("tile"))){var t=r.value;if(l.has("start")&&t){var c=t.getBoundingClientRect(),a=e.x-c.x,o=e.y-c.y;i.value={x:a/u.value,y:o/u.value}}}},b=Object(c["o"])(new Array),O=Object(c["b"])((function(){var e=r.value,t=e?e.getBoundingClientRect():{x:0,y:0},n=b.filter((function(e){return e.rect})).map((function(e){return{width:e.rect.width,height:e.rect.height,i:e.id,x:e.rect.x-t.x,y:e.rect.y-t.y}}));return n})),v=Object(c["b"])((function(){return!(null===n||void 0===n?void 0:n.value.flagSet.has("tile"))&&l.has("start")}));return{layout:O,svgCursorPercent:i,svgRef:r,control:f,release:s,cursorMove:d,blocks:b,isStart:v,maxSide:u,svgObserver:o}},je=function(e){var t=Object(c["q"])(0),n=new Array;return Object(c["m"])("regist-any-block",(function(n){return n.id=++t.value,e.push(n),n.id})),Object(c["m"])("update-block-state",(function(t){var n=e.findIndex((function(e){return e.id===t.id}));-1!==n&&(e[n]=t)})),Object(c["m"])("on-will-update-rect",(function(e,t){n.push({cb:e,id:t})})),Object(c["m"])("unmounted-block",(function(t){n.splice(n.findIndex((function(e){return e.id===t})),1),e.splice(e.findIndex((function(e){return e.id===t})),1)})),{updateQuene:n}},pe=Object(c["g"])({name:"reveal-container",setup:function(){var e=Object(c["h"])("window-state"),t=u("block-container"),n={top:0,left:0},r=Object(c["q"])({width:200,height:200}),a=Object(c["q"])(n),o=ve(r,a,e),i=o.layout,l=o.svgCursorPercent,f=o.svgRef,s=o.cursorMove,d=o.control,b=o.release,O=o.blocks,v=o.isStart,j=o.maxSide,p=o.svgObserver,w=je(O),h=w.updateQuene,g=Object(Oe["debounce"])((function(){h.forEach((function(e){return e.cb()}))}),100),y=Object(c["q"])(),m=new ResizeObserver(g);return Object(c["i"])((function(){var t=y.value;t&&m.observe(t);var n=Object(c["h"])("window-size"),o=Object(c["h"])("window-offset");if(!n)throw new Error("block-container组件必须在window组件的包裹下或手动注入窗口尺寸");r.value=n,o&&(a.value=o),p.mounted(),r.value&&Object(c["w"])([e&&Object(c["v"])(e.value,"flagSet"),r],g,{deep:!0,immediate:!0}),H("mousemove",Object(Oe["debounce"])(s))})),Object(c["j"])((function(){p.unmounted(),m.disconnect()})),{layout:i,svgCursorPercent:l,svgRef:f,control:d,release:b,windowSize:r,isStart:v,maxSide:j,id:t,blockContainerRef:y}}});n("f508");pe.render=be,pe.__scopeId="data-v-6164e438";var we=pe,he=Object(c["z"])("data-v-f0f8976c"),ge=he((function(e,t){var n=Object(c["t"])("sidebar");return Object(c["k"])(),Object(c["d"])("div",{class:"window-container",ref:"selfRef",onMousemove:t[1]||(t[1]=function(){return e.onMouseMove.apply(e,arguments)}),style:e.style},[Object(c["s"])(e.$slots,"default"),Object(c["f"])(n,{"container-state":e.state},null,8,["container-state"])],36)})),ye=(n("7db0"),n("c975"),n("fb6a"),n("5530")),me=n("b85c"),ke=function(e,t){return e.slice(0,t).reduce((function(e,t){return e+t.width}),0)},xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n&&console.log(t+(t?": \n":"")+JSON.stringify(e,null,4))},Se=function(e,t,n){var c=Object(Oe["cloneDeep"])(e),r=c.reduce((function(e,t){return e+t.width}),0),a=c.reduce((function(e,t){return e>t.y?e:t.y}),0);if(r<=t.width&&a<=t.y)return v(c,t);for(var o,i,u=j(ke,c),l=n+t.width,f=0;f<c.length;f++){var s=c[f],d=u(f);if(!o&&d<=n&&n<=d+s.width&&(o=s),d<=l&&l<=d+s.width&&(i=s),o&&i)break}if(!o||!i)throw xe(o,"start-base"),xe(i,"end-base"),new Error("找不到startBase或endBase");var b=c.indexOf(o),O=c.indexOf(i),p={y:o.y,width:n-u(b)},w={y:i.y,width:u(O)+i.width-(u(b)+p.width+t.width)};c.splice(b,O-b+1,p,t,w);while(c.find((function(e){return!e.width})))c.splice(c.findIndex((function(e){return e.width<1})),1);return xe(c,"更新基线"),c},ze=function(e,t){var n=e.baselines,c=e.maxWidth,r=j(ke,n),a=function e(a){for(var o=arguments.length,i=new Array(o>1?o-1:0),u=1;u<o;u++)i[u-1]=arguments[u];i.push(a);var l=n.indexOf(a),f=r(l-(i.length-1));if(i[0].y<a.y)return null;var s=i.reduce((function(e,t){return e+t.width}),0);if(s>=t&&f+t<=c)return{bls:i,start:f};if(l+1===n.length||f+s>c){var d=n.reduce((function(e,t){return e>t.y?e:t.y}),0);return{start:0,bls:[{width:t,y:d}]}}return e.apply(void 0,[n[l+1]].concat(i))};return a},_e=function(e,t){var n=e.baselines,c=e.scale,r=e.margin,a=j(Se,n),i=0,u=0,l=t.size;if(!0===e.hasInsertFirst){var f,s=l.width*c+2*r,d=new Array,b=Object(me["a"])(n);try{for(b.s();!(f=b.n()).done;){var O=f.value,p=ze(e,s)(O);p&&d.push({baseLine:{width:s,y:Math.max.apply(Math,Object(o["a"])(p.bls.map((function(e){return e.y}))))+t.size.height*c+2*r},start:p.start})}}catch(k){b.e(k)}finally{b.f()}if(!d.length||0===d[0].baseLine.y)return null;var w=d.sort((function(e,t){return e.baseLine.y-t.baseLine.y}))[0];if(i=w.start,u=w.baseLine.y-t.size.height*c-2*r,w.baseLine.y>e.maxHeight)return null;var h=a(w.baseLine,w.start);v.apply(void 0,[n].concat(Object(o["a"])(h)))}else{var g=l.height*c+2*r,y=l.width*c;xe({y:g,width:y},"新插入基线-");var m=a({y:g,width:y},0);v.apply(void 0,[n].concat(Object(o["a"])(m)))}return e.hasInsertFirst=!0,{scale:c,x:i,y:u}},Ce=function(e,t,n){var r=Object(c["w"])(e.windowTriggerPool,(function(c){var a;null===(a=c.get("click"))||void 0===a||a.forEach((function(){r();var a=function(){var e=t.map((function(e){return{e:n.find((function(t){return t.id===e.bind.id})),s:e}}));return e.forEach.bind(e)};a()((function(e){var t=e.s,n=e.e;t.bind.flagSet.add("animal"),t.bind.flagSet.delete("start"),t.bind.scale=n.scale,t.bind.initPos=n.initPos,t.bind.offset=n.offset})),setTimeout((function(){a()((function(e){var t=e.s;t.bind.flagSet.delete("tile"),t.bind.flagSet.delete("animal")}))}),700),c.delete("click"),e.flagSet.delete("window-switch")}))}))},Pe=function(e,t,n,c,r){var a=e.map((function(e){var c=Object(Oe["cloneDeep"])(e.bind);return c.initPos={top:0,left:0},c.offset={top:e.y+t.top+n,left:e.x+t.left+n},c.scale=e.scale,{start:e,end:c}}));a.forEach((function(e){var t=e.start,n=e.end;t.bind.flagSet.delete("start"),t.bind.flagSet.add("tile"),t.bind.flagSet.add("animal"),t.bind.scale=n.scale,t.bind.initPos=n.initPos,t.bind.offset=n.offset})),setTimeout((function(){a.forEach((function(e){var t=e.start;t.bind.flagSet.delete("animal")})),Ce(c,e,r)}),700),c.flagSet.add("window-switch")},Me=function(e){if(!e.flagSet.has("window-switch")){var t=e.windows,n=e.bodyRect,c=Object(Oe["cloneDeep"])(t),r=n,a={top:16,left:16,right:160,bottom:16},i=8;if(r){var u=new Array,l=r.width-a.left-a.right,f=r.height-a.top-a.bottom,s=[{y:0,width:l}];xe(s,"初始基线");var d=Object(o["a"])(t),b={baselines:s,scale:1,maxWidth:l,maxHeight:f,hasInsertFirst:!1,margin:i};while(d.length){var O=d.shift();if(!O)break;var j=_e(b,O);if(j)u.push(Object(ye["a"])({bind:O},j));else if(b.scale-=.05,v.apply(void 0,[d].concat(Object(o["a"])(t))),v(u),v(s,{y:0,width:l}),b.scale<0)throw new Error("分配异常")}Pe(u,a,i,e,c),xe(s,"结束"),xe(u)}}},Re=Object(c["z"])("data-v-e33726aa");Object(c["n"])("data-v-e33726aa");var Ae={class:"aside-manage-bar"},Ie={class:"windows-list",ref:"windowsListRef"},Be=Object(c["f"])("div",null,"平铺所有窗口",-1);Object(c["l"])();var Le=Re((function(e,t){return Object(c["k"])(),Object(c["d"])("div",Ae,[Object(c["f"])("ul",Ie,[Object(c["f"])("li",{class:"profile auto-layout",onClick:t[1]||(t[1]=function(){return e.autoLayout.apply(e,arguments)})},[Be]),(Object(c["k"])(!0),Object(c["d"])(c["a"],null,Object(c["r"])(e.windows,(function(t){return Object(c["k"])(),Object(c["d"])("li",{key:t.id,class:"profile"},[Object(c["f"])("div",{onClick:function(n){return e.pullWindow(t)}},Object(c["u"])(t.name),9,["onClick"])])})),128))],512)])})),qe=Object(c["g"])({name:"window-container-sidebar",props:{containerState:{default:function(){return{}}}},setup:function(e){var t=Object(c["q"])(new Array),n=Object(c["q"])(),r=Object(c["o"])({width:0,height:0});Object(c["m"])("window-size",r),Object(c["i"])((function(){t.value=Object(c["h"])("windows",[])}));var a=function(e){e.zIndex=te()},o=function(){Me(e.containerState)};return{windows:t,windowsListRef:n,pullWindow:a,autoLayout:o}}});n("82f2");qe.render=Le,qe.__scopeId="data-v-e33726aa";var Ee=qe,Te=Object(c["g"])({name:"window-container",props:{bgUrl:{type:String,required:!0}},components:{sidebar:Ee},setup:function(e){var t=Object(c["o"])({windowTriggerPool:new Map,bodyRect:null,windows:new Array,flagSet:new Set});Object(c["m"])("add-trigger-window",(function(e,n){var c=t.windowTriggerPool.get("click");c?c.push(n):t.windowTriggerPool.set("click",[n])}));var n=new ResizeObserver((function(e){t.bodyRect=e[0].target.getBoundingClientRect()}));Object(c["m"])("windows",t.windows),Object(c["m"])("window-regist",(function(e){t.windows.push(e)}));var r=Object(c["q"])(null);Object(c["i"])((function(){var e=r.value;e&&(n.observe(e),setTimeout((function(){Me(t)}),0))}));var a=function(e){K("mousemove").forEach((function(t){return t(e)}))},o=Object(c["b"])((function(){return"background-image:url(".concat(e.bgUrl,")")}));return{window:window,selfRef:r,onMouseMove:a,style:o,state:t}}});n("0417");Te.render=ge,Te.__scopeId="data-v-f0f8976c";var $e=Te,De=Object(c["z"])("data-v-1c65c784"),Ne=De((function(e,t){return Object(c["k"])(),Object(c["d"])("div",{class:[].concat(Object(o["a"])(e.classList),["base-col-class"])},[Object(c["s"])(e.$slots,"default")],2)})),Ue=function(e,t,n){var r=Object(c["b"])((function(){var c=new Array,r=t.value,a=n.value,o=e.value;if("number"===typeof r)c.push("col-offset-".concat(r));else{var i=o.filter((function(e){return r[e]}))[0];if(i)c.push("col-offset-".concat(r[i]));else for(var u=d,l=o[0],f=u.indexOf(l)+1;f<u.length;f++)if(r[u[f]]){c.push("col-offset-".concat(r[u[f]]));break}}if("number"===typeof a)c.push("col-span-".concat(a));else{var s=o.filter((function(e){return a[e]}))[0];if(s)c.push("col-span-".concat(a[s]));else for(var b=d,O=o[0],v=b.indexOf(O)+1;v<b.length;v++)if(a[b[v]]){c.push("col-span-".concat(a[b[v]]));break}}return c}));return{classList:r}},We=Object(c["g"])({name:"fd-col",props:{span:{default:function(){if(" ".length)throw new Error("col组件的span必填！");return 0}},offset:{default:0}},setup:function(e){var t=O(),n=Object(c["b"])((function(){var t=e.span,n="string"===typeof t?Number(t):t;return n})),r=Object(c["b"])((function(){var t=e.offset,n="string"===typeof t?Number(t):t;return n})),a=Ue(t,r,n),o=a.classList;return{classList:o}}});n("ad42");We.render=Ne,We.__scopeId="data-v-1c65c784";var Xe=We,Ye=Object(c["z"])("data-v-8052f986"),Fe=Ye((function(e,t){return Object(c["k"])(),Object(c["d"])("div",null,[Object(c["s"])(e.$slots,"default")])})),Ge=Object(c["g"])({name:"fd-row",props:{},setup:function(){return{}}});n("bcf1");Ge.render=Fe,Ge.__scopeId="data-v-8052f986";var Je=Ge,He=Object(c["c"])(W),Ke=[re,le,we,$e,Xe,Je];Ke.forEach((function(e){He.component(e.name,e)})),He.mount("#app")},f508:function(e,t,n){"use strict";n("6262")}});
//# sourceMappingURL=app.2234e9b9.js.map