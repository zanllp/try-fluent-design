{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/window-container.vue?f14d","webpack:///./src/components/reveal.vue?ad51","webpack:///./src/example/calendar.vue?c3c0","webpack:///./src/components/sidebar.vue?2232","webpack:///./src/example/calculator.vue?318d","webpack:///./src/components/col.vue?12aa","webpack:///./src/components/row.vue?4290","webpack:///./src/App.vue","webpack:///./src/store.ts","webpack:///./src/util.ts","webpack:///./src/example/calculator.vue","webpack:///./src/example/calculator.vue?2240","webpack:///./src/example/calculator.vue?42a5","webpack:///./src/example/calendar.vue","webpack:///./src/example/calendar.vue?3825","webpack:///./src/example/calendar.vue?a22b","webpack:///./src/example/reactive-layout.vue","webpack:///./src/example/reactive-layout.vue?4dca","webpack:///./src/example/reactive-layout.vue?e51c","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/components/window.vue","webpack:///./src/callbackPoll.ts","webpack:///./src/components/window.ts","webpack:///./src/components/window.vue?2b79","webpack:///./src/components/window.vue?caaf","webpack:///./src/components/reveal.vue","webpack:///./src/components/reveal.vue?07b6","webpack:///./src/components/reveal.vue?78aa","webpack:///./src/components/reveal-container.vue","webpack:///./src/components/reveal-container.vue?7a23","webpack:///./src/components/reveal-container.vue?a038","webpack:///./src/components/window-container.vue","webpack:///./src/components/window-container.ts","webpack:///./src/components/sidebar.vue","webpack:///./src/components/sidebar.vue?c9eb","webpack:///./src/components/sidebar.vue?10ab","webpack:///./src/components/window-container.vue?99f1","webpack:///./src/components/window-container.vue?1f70","webpack:///./src/components/col.vue","webpack:///./src/components/col.vue?6105","webpack:///./src/components/col.vue?0448","webpack:///./src/components/row.vue","webpack:///./src/components/row.vue?6329","webpack:///./src/components/row.vue?5032","webpack:///./src/main.ts","webpack:///./src/components/window.vue?d4f0","webpack:///./src/components/reveal-container.vue?ea02"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","bg-url","bgUrl","sharedState","darkMode","idPool","num2color","g","b","type","arr","id","createArray","num","createFn","Array","fill","map","_","breakPointPriorityMap","xs","sm","md","lg","xl","breakPointPriorityList","breakPointPriorityListAsc","reverse","size","Error","w","width","breakPoint","entries","filter","pair","sort","a","resetArray","rest","curry","fn","bindArg","restArg","dark","tempText","displayText","operators","op","keydown","numKeys","setup","displayTextList","join","codeList","clacMethodMap","calc","readNum","Number","undefined","code","dl","pop","render","__scopeId","onActionBtnClick","day","format","bucketsMap","buckets","week","idx","dayN","dayIdx","data-now","onDayBtnClick","locale","extend","month","year","set","days","act","add","subtract","nextDay","reduce","currDay","dayIndex","init-pos","blocks","block","span","offset","String","fromCharCode","components","calculator","calendar","layout","style","control","release","data-window-switch","state","scale","colorLayerStyle","eventPool","Map","addCallBack","event","cb","quene","getCallBackQuene","cursorMap","start","resize","initPos","top","left","zIndex","backgroundPos","flagSet","Set","styles","bgPos","styleList","from","keys","height","has","maxZIndex","incrMaxZindex","addTrigrWindow","_e","console","log","stateStack","e","clear","move","movementX","movementY","areaLeft","areaTop","areaSide","pageX","pageY","lastState","forEach","props","default","Boolean","windowRegist","ref","ro","domRef","rect","blockId","unmountedBlock","regist","updateState","onWillUpdateRect","dom","ResizeObserver","target","getBoundingClientRect","observe","disconnect","stop-color","version","xmlns","xmlns:xlink","viewBox","Math","max","windowSize","cx","svgCursorPercent","x","cy","y","item","stroke","stroke-width","maxSide","isStart","mask","windowOffset","svgRef","svgRect","svgObserver","mounted","unmounted","svgStateStack","delete","cursorMove","svg","res","idCounter","updateQuene","findIndex","initOffset","refreshMask","val","blockContainerRef","deep","immediate","onMouseMove","container-state","getStartPosPF","baselines","index","debug","msg","enable","JSON","stringify","_baselines","base","allWidth","maxY","startBase","endBase","getStartPos","end","curr","currbaselinestartPos","startIdx","indexOf","endIdx","newStart","newEnd","find","bl","conf","needWidth","maxWidth","scan","seq","firstEleStartPos","reduceWidth","bls","nextY","margin","insertBaseLine","hasInsertFirst","availableArea","baseLine","maxHeight","newBaseLine","stateBackup","stop","windowTriggerPool","getPrevCurrForeach","pc","backup","setTimeout","containerPadding","windowMargin","se","_windows","windows","bodyRect","body","right","bottom","availableWidth","availableHeight","autoLayout","pullWindow","containerState","windowsListRef","blockRect","win","required","sidebar","winstate","selfRef","classList","list","bp","availableBreakPoint","flag","priorityList","topPriority","root","App","reveal","col","row","component","mount"],"mappings":"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","file":"js/app.567609e7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./window-container.vue?vue&type=style&index=0&id=5cfd4800&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./window-container.vue?vue&type=style&index=0&id=5cfd4800&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./reveal.vue?vue&type=style&index=0&id=624bc09c&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./reveal.vue?vue&type=style&index=0&id=624bc09c&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./calendar.vue?vue&type=style&index=0&id=709ee116&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./calendar.vue?vue&type=style&index=0&id=709ee116&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./sidebar.vue?vue&type=style&index=0&id=e33726aa&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./sidebar.vue?vue&type=style&index=0&id=e33726aa&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./calculator.vue?vue&type=style&index=0&id=5ff25644&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./calculator.vue?vue&type=style&index=0&id=5ff25644&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./col.vue?vue&type=style&index=0&id=1c65c784&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./col.vue?vue&type=style&index=0&id=1c65c784&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./row.vue?vue&type=style&index=0&id=8052f986&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./row.vue?vue&type=style&index=0&id=8052f986&lang=scss&scoped=true\"","<template>\n  <window-container class=\"window-manage\" :bg-url=\"bgUrl\">\n    <calculator />\n    <calendar />\n    <layout />\n    <calculator />\n    <calendar />\n    <layout />\n    <calculator />\n    <calendar />\n    <layout />\n    <calculator />\n    <calendar />\n    <layout />\n    <calculator />\n    <calendar />\n    <layout />\n    <calculator />\n    <calendar />\n    <layout />\n  </window-container>\n</template>\n\n<script lang=\"ts\">/* eslint-disable vue/no-unused-components */\nimport { defineComponent, toRef, reactive } from 'vue'\nimport { sharedState } from './store'\nimport { createArray } from './util'\nimport calculator from '@/example/calculator.vue'\nimport calendar from '@/example/calendar.vue'\nimport layout from '@/example/reactive-layout.vue'\nconst bgUrl = 'https://static.ioflow.link/0cfedb5240eadc505e723bf2bc4f14e8bf7eb3fb96fc6ea53e856f3f863c2ba0d38f83de492f609290bc6ad0a9a2b583.jpg'\nexport default defineComponent({\n  components: {\n    calculator,\n    calendar,\n    layout\n  },\n  name: 'App',\n  setup () {\n    const blocks = reactive(createArray(6, idx => String.fromCharCode(65 + idx)))\n    return {\n      window,\n      darkMode: toRef(sharedState, 'darkMode'),\n      blocks,\n      bgUrl\n    }\n  }\n})\n</script>\n","import { reactive } from 'vue'\n\nexport const sharedState = reactive({\n  darkMode: true,\n  idPool: {\n    window: [] as number[],\n    'block-container': [] as number[]\n  }\n})\n","import { sharedState } from './store'\nimport { inject, computed, readonly } from 'vue'\n\nexport const num2color = (c: number) => {\n  const r = c >> 16\n  const g = (c >> 8) & 0xff\n  const b = c & 0xff\n  return [r, g, b]\n}\nexport type BlockState = {\n  value?: string;\n  rect: {\n    height: number;\n    width: number;\n  };\n}\nexport type Size = BlockState['rect']\nexport type AnyBlockState = {\n  value?: string;\n  rect: DOMRect | null;\n  id: number;\n}\n/**\n * 共享状态里获取一个自增id\n */\nexport const getIncrementId = (type: keyof typeof sharedState.idPool) => {\n  const arr = sharedState.idPool[type]\n  const id = arr.length !== 0 ? arr[arr.length - 1] + 1 : 0\n  arr.push(id)\n  return id\n}\n\nexport const createArray = <T>(num: number, createFn: (index: number) => T) => {\n  return Array(num)\n    .fill(null)\n    .map((_, i) => createFn(i))\n}\n\nexport type BreakPointFlag = 'xs' | 'sm' | 'md' | 'lg' | 'xl'\n/**\n * 断点标志位的权重映射，匹配的尺寸越大，优先级越低\n */\nexport const breakPointPriorityMap: { [k in BreakPointFlag]: number } = {\n  xs: 0,\n  sm: -1,\n  md: -2,\n  lg: -3,\n  xl: -4\n}\n\n/**\n * 断点优先级降序\n */\nexport const breakPointPriorityList = readonly<BreakPointFlag[]>(['xs', 'sm', 'md', 'lg', 'xl'])\n\n/**\n * 断点标志列表优先级升序\n */\nexport const breakPointPriorityListAsc = readonly([...breakPointPriorityList].reverse())\n/**\n * 返回断点标志在当前窗口尺寸下是否可用\n */\nexport const useBreakPoint = () => {\n  const size = inject<Size>('window-size')\n  if (!size) {\n    throw new Error('useBreakPoint必须在window组件的包裹的组件内')\n  }\n  return computed(() => {\n    const w = size.width\n    return {\n      xs: w < 578,\n      sm: w < 768,\n      md: w < 992,\n      lg: w < 1200,\n      xl: true\n    } as { [k in BreakPointFlag]: boolean }\n  })\n}\n\n/**\n * 返回可用的断点标志,按优先级降序\n */\nexport const usePriorityBreakPoint = () => {\n  const breakPoint = useBreakPoint()\n  return computed(() => {\n    return Object.entries(breakPoint.value)\n      .filter(pair => pair[1])\n      .sort((a, b) => breakPointPriorityMap[b[0] as BreakPointFlag] - breakPointPriorityMap[a[0] as BreakPointFlag])\n      .map(pair => pair[0] as BreakPointFlag)\n  })\n}\n\nexport const resetArray = function <T> (arr: Array<T>, ...rest: T[]) {\n  arr.splice(0, arr.length, ...rest)\n  return arr\n}\n\nexport function curry<T, T1, T2> (fn: (a: T1, b: T2) => T, a: T1): (b: T2) => T;\nexport function curry<T, T1, T2, T3> (fn: (a: T1, b: T2, c: T3) => T, a: T1): (b: T2, c: T3) => T;\nexport function curry (fn: any, ...bindArg: any[]) {\n  return (...restArg: any[]) => fn(...bindArg, ...restArg)\n}\n","<template>\n  <window name=\"计算器\" :dark=\"false\" :size=\"{ height: 384, width: 512 }\">\n    <reveal-container>\n      <div class=\"temp-area\">{{tempText}}</div>\n      <div class=\"display-area\">{{ displayText}}</div>\n      <div>\n        <reveal v-for=\"op in operators\" :key=\"op\" class=\"key-btn op-btn\" @click=\"keydown(op)\">{{op}}</reveal>\n      </div>\n      <div>\n        <reveal v-for=\"key in numKeys\" :key=\"key\" class=\"key-btn\" @click=\"keydown(key)\">{{key}}</reveal>\n      </div>\n    </reveal-container>\n  </window>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, computed } from 'vue'\nimport { createArray, resetArray } from '@/util'\n\nexport default defineComponent({\n  setup () {\n    const displayTextList = reactive<Array<string | number>>([0])\n    const displayText = computed(() => displayTextList.join(''))\n    const codeList = reactive(new Array<string | number>())\n    const tempText = computed(() => codeList.join(''))\n    const numKeys = reactive(createArray(10, i => i))\n    const clacMethodMap = (op: '+' | '-' | '*' | '/', l: number, r: number) => {\n      switch (op) {\n        case '+':\n          return l + r\n        case '-':\n          return l - r\n        case '*':\n          return l * r\n        case '/':\n          return l / r\n      }\n    }\n    const calc = () => {\n      const readNum = () => {\n        let n = codeList.shift()\n        while (n && typeof codeList[0] === 'number') {\n          n = `${n}${codeList.shift()}`\n        }\n        return Number(n)\n      }\n      let l = readNum()\n      while (codeList.length && l !== undefined) {\n        const op = codeList.shift()\n        const r = readNum()\n        l = clacMethodMap(op as any, l, r)\n      }\n      return l\n    }\n    const keydown = (code: number | string) => {\n      const dl = displayTextList\n      switch (code) {\n        case 'c':\n          resetArray(dl, 0)\n          resetArray(codeList)\n          break\n        case '+':\n        case '-':\n        case '*':\n        case '/':\n          dl.push(code)\n          codeList.push(code)\n          break\n        case 'ce':\n          resetArray(dl, 0)\n          break\n        case '=':\n          resetArray(dl, ...codeList, '=', calc())\n          break\n        case 'del':\n          dl.pop()\n          codeList.pop()\n          break\n        default:\n          codeList.push(code)\n          if (typeof dl[dl.length - 1] !== 'number') {\n            resetArray(dl)\n          }\n          if (dl.length === 1 && dl[0] === 0) {\n            dl.pop()\n          }\n          dl.push(code)\n          break\n      }\n    }\n    const operators = reactive(['+', '-', '*', '/', 'c', 'ce', '=', 'del'])\n    return {\n      numKeys,\n      displayText,\n      keydown,\n      operators,\n      tempText\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.temp-area {\n  line-height: 16px;\n  color: #b5b5b5;\n  padding: 4px;\n  text-align: right;\n}\n.display-area {\n  line-height: 32px;\n  padding: 8px;\n  text-align: right;\n  font-weight: bold;\n  font-size: 2em;\n}\n.key-btn {\n  text-align: center;\n  line-height: 48px;\n  height: 48px;\n  width: 72px;\n  background: #f2f2f2;\n  transition: 0.3s all;\n  cursor: pointer;\n  &:hover {\n    background: #b5b5b5;\n  }\n}\n.op-btn {\n  background: #d6d6d6;\n}\n</style>\n","\nimport { defineComponent, reactive, computed } from 'vue'\nimport { createArray, resetArray } from '@/util'\n\nexport default defineComponent({\n  setup () {\n    const displayTextList = reactive<Array<string | number>>([0])\n    const displayText = computed(() => displayTextList.join(''))\n    const codeList = reactive(new Array<string | number>())\n    const tempText = computed(() => codeList.join(''))\n    const numKeys = reactive(createArray(10, i => i))\n    const clacMethodMap = (op: '+' | '-' | '*' | '/', l: number, r: number) => {\n      switch (op) {\n        case '+':\n          return l + r\n        case '-':\n          return l - r\n        case '*':\n          return l * r\n        case '/':\n          return l / r\n      }\n    }\n    const calc = () => {\n      const readNum = () => {\n        let n = codeList.shift()\n        while (n && typeof codeList[0] === 'number') {\n          n = `${n}${codeList.shift()}`\n        }\n        return Number(n)\n      }\n      let l = readNum()\n      while (codeList.length && l !== undefined) {\n        const op = codeList.shift()\n        const r = readNum()\n        l = clacMethodMap(op as any, l, r)\n      }\n      return l\n    }\n    const keydown = (code: number | string) => {\n      const dl = displayTextList\n      switch (code) {\n        case 'c':\n          resetArray(dl, 0)\n          resetArray(codeList)\n          break\n        case '+':\n        case '-':\n        case '*':\n        case '/':\n          dl.push(code)\n          codeList.push(code)\n          break\n        case 'ce':\n          resetArray(dl, 0)\n          break\n        case '=':\n          resetArray(dl, ...codeList, '=', calc())\n          break\n        case 'del':\n          dl.pop()\n          codeList.pop()\n          break\n        default:\n          codeList.push(code)\n          if (typeof dl[dl.length - 1] !== 'number') {\n            resetArray(dl)\n          }\n          if (dl.length === 1 && dl[0] === 0) {\n            dl.pop()\n          }\n          dl.push(code)\n          break\n      }\n    }\n    const operators = reactive(['+', '-', '*', '/', 'c', 'ce', '=', 'del'])\n    return {\n      numKeys,\n      displayText,\n      keydown,\n      operators,\n      tempText\n    }\n  }\n})\n","import { render } from \"./calculator.vue?vue&type=template&id=5ff25644&scoped=true\"\nimport script from \"./calculator.vue?vue&type=script&lang=ts\"\nexport * from \"./calculator.vue?vue&type=script&lang=ts\"\n\nimport \"./calculator.vue?vue&type=style&index=0&id=5ff25644&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5ff25644\"\n\nexport default script","<template>\n  <window name=\"日历\" :size=\"{ height: 550, width: 448 }\">\n    <reveal-container>\n      <div class=\"profile\">\n        <div class=\"action-bar\">\n          <reveal>\n            <div class=\"action-icon\" @click=\"onActionBtnClick('decr')\">←</div>\n          </reveal>\n          <reveal>\n            <div class=\"action-icon\" @click=\"onActionBtnClick('incr')\">→</div>\n          </reveal>\n        </div>\n        <div class=\"title\">{{day.format('L')}}</div>\n      </div>\n      <div>\n        <span v-for=\"n in 7\" :key=\"n\" class=\"table-cell block-adapter\">星期{{bucketsMap[n-1]}}</span>\n        <div v-for=\"(week,idx) in buckets\" :key=\"idx\">\n          <span v-for=\"(dayN,dayIdx) in week\" :key=\"dayIdx\">\n            <reveal\n              v-if=\"dayN !== undefined\"\n              class=\"day table-cell\"\n              :data-now=\"day.get('date')===dayN\"\n              @click=\"onDayBtnClick(dayN)\"\n            >{{dayN}}</reveal>\n            <div v-else class=\"block-adapter table-cell\" />\n          </span>\n        </div>\n      </div>\n    </reveal-container>\n  </window>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, ref } from 'vue'\nimport dayjs from 'dayjs'\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat'\nimport 'dayjs/locale/zh-cn'\nimport { createArray } from '@/util'\ndayjs.locale('zh-cn')\ndayjs.extend(LocalizedFormat)\n/**\n * 获取指定月份，年份里多少天，月份0-11\n */\nconst daysInMonth = (month: number, year: number) => {\n  return dayjs().set('year', year).set('month', month + 1).set('date', -1).get('date') + 1\n}\nexport default defineComponent({\n  setup () {\n    const day = ref(dayjs())\n    const days = computed(() => daysInMonth(day.value.get('month'), day.value.get('year')))\n    const onActionBtnClick = (act: 'incr' | 'decr') => {\n      switch (act) {\n        case 'incr':\n          day.value = day.value.add(1, 'month')\n          break\n        case 'decr':\n          day.value = day.value.subtract(1, 'month')\n          break\n      }\n    }\n    const onDayBtnClick = (nextDay: number) => {\n      day.value = day.value.set('date', nextDay)\n    }\n    const buckets = computed(() =>\n      createArray(days.value, i => i + 1)\n        .reduce<Array<Array<number>>>((p, c) => {\n          const currDay = day.value.set('date', c)\n          const dayIndex = currDay.get('day')\n          let week: Array<number>\n          if (dayIndex === 0 || p[p.length - 1].length > 6) { // 当星期天或者上周排满时\n            week = new Array<number>()\n            p.push(week)\n          } else {\n            week = p[p.length - 1]\n          }\n          week[dayIndex] = c\n          return p\n        }, [[]]\n        )\n    )\n    const bucketsMap = '天一二三四五六'\n    return {\n      days,\n      day,\n      onActionBtnClick,\n      onDayBtnClick,\n      bucketsMap,\n      buckets\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.table-cell {\n  display: inline-block;\n  height: 48px;\n  line-height: 48px;\n  text-align: center;\n  width: 48px;\n}\n.block-adapter {\n  border: 2px solid transparent;\n  margin: 2px;\n}\n.day {\n  cursor: pointer;\n  border: transparent 2px solid;\n  &[data-now=\"true\"] {\n    border: rgb(197, 197, 197) 2px solid;\n  }\n}\n.title {\n  display: inline-block;\n  margin: 0 16px;\n}\n.action-bar {\n  display: inline-block;\n  margin: 16px 0;\n  .action-icon {\n    padding: 8px;\n    cursor: pointer;\n    display: inline-block;\n  }\n}\n</style>\n","\nimport { defineComponent, computed, ref } from 'vue'\nimport dayjs from 'dayjs'\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat'\nimport 'dayjs/locale/zh-cn'\nimport { createArray } from '@/util'\ndayjs.locale('zh-cn')\ndayjs.extend(LocalizedFormat)\n/**\n * 获取指定月份，年份里多少天，月份0-11\n */\nconst daysInMonth = (month: number, year: number) => {\n  return dayjs().set('year', year).set('month', month + 1).set('date', -1).get('date') + 1\n}\nexport default defineComponent({\n  setup () {\n    const day = ref(dayjs())\n    const days = computed(() => daysInMonth(day.value.get('month'), day.value.get('year')))\n    const onActionBtnClick = (act: 'incr' | 'decr') => {\n      switch (act) {\n        case 'incr':\n          day.value = day.value.add(1, 'month')\n          break\n        case 'decr':\n          day.value = day.value.subtract(1, 'month')\n          break\n      }\n    }\n    const onDayBtnClick = (nextDay: number) => {\n      day.value = day.value.set('date', nextDay)\n    }\n    const buckets = computed(() =>\n      createArray(days.value, i => i + 1)\n        .reduce<Array<Array<number>>>((p, c) => {\n          const currDay = day.value.set('date', c)\n          const dayIndex = currDay.get('day')\n          let week: Array<number>\n          if (dayIndex === 0 || p[p.length - 1].length > 6) { // 当星期天或者上周排满时\n            week = new Array<number>()\n            p.push(week)\n          } else {\n            week = p[p.length - 1]\n          }\n          week[dayIndex] = c\n          return p\n        }, [[]]\n        )\n    )\n    const bucketsMap = '天一二三四五六'\n    return {\n      days,\n      day,\n      onActionBtnClick,\n      onDayBtnClick,\n      bucketsMap,\n      buckets\n    }\n  }\n})\n","import { render } from \"./calendar.vue?vue&type=template&id=709ee116&scoped=true\"\nimport script from \"./calendar.vue?vue&type=script&lang=ts\"\nexport * from \"./calendar.vue?vue&type=script&lang=ts\"\n\nimport \"./calendar.vue?vue&type=style&index=0&id=709ee116&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-709ee116\"\n\nexport default script","<template>\n  <window :init-pos=\"{ top: 512, left: 480 }\" name=\"响应式24栏栅格\">\n    <reveal-container>\n      <fd-row>\n        <fd-col\n          v-for=\"block in blocks\"\n          :key=\"block\"\n          :span=\"{ xs:6 , md:5, xl: 4 }\"\n          :offset=\"{ xs:0 , md: 1 , xl: 2 }\"\n        >\n          <reveal :value=\"block\">{{ block }}</reveal>\n        </fd-col>\n      </fd-row>\n      <fd-row>\n        <fd-col v-for=\"block in blocks\" :key=\"block\" :span=\"{ xs:8 , xl: 6 }\">\n          <reveal :value=\"block\">{{ block }}</reveal>\n        </fd-col>\n      </fd-row>\n      <fd-row>\n        <fd-col span=\"4\" offset=\"3\">hello</fd-col>\n        <fd-col span=\"4\" offset=\"3\">world</fd-col>\n      </fd-row>\n    </reveal-container>\n  </window>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, reactive } from 'vue'\nimport { createArray } from '@/util'\nexport default defineComponent({\n  name: 'App',\n  setup () {\n    const blocks = reactive(createArray(6, idx => String.fromCharCode(65 + idx)))\n    return {\n      blocks\n    }\n  }\n})\n</script>\n","\nimport { defineComponent, reactive } from 'vue'\nimport { createArray } from '@/util'\nexport default defineComponent({\n  name: 'App',\n  setup () {\n    const blocks = reactive(createArray(6, idx => String.fromCharCode(65 + idx)))\n    return {\n      blocks\n    }\n  }\n})\n","import { render } from \"./reactive-layout.vue?vue&type=template&id=1af804df\"\nimport script from \"./reactive-layout.vue?vue&type=script&lang=ts\"\nexport * from \"./reactive-layout.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","/* eslint-disable vue/no-unused-components */\nimport { defineComponent, toRef, reactive } from 'vue'\nimport { sharedState } from './store'\nimport { createArray } from './util'\nimport calculator from '@/example/calculator.vue'\nimport calendar from '@/example/calendar.vue'\nimport layout from '@/example/reactive-layout.vue'\nconst bgUrl = 'https://static.ioflow.link/0cfedb5240eadc505e723bf2bc4f14e8bf7eb3fb96fc6ea53e856f3f863c2ba0d38f83de492f609290bc6ad0a9a2b583.jpg'\nexport default defineComponent({\n  components: {\n    calculator,\n    calendar,\n    layout\n  },\n  name: 'App',\n  setup () {\n    const blocks = reactive(createArray(6, idx => String.fromCharCode(65 + idx)))\n    return {\n      window,\n      darkMode: toRef(sharedState, 'darkMode'),\n      blocks,\n      bgUrl\n    }\n  }\n})\n","import { render } from \"./App.vue?vue&type=template&id=23f6a379\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div\n    class=\"container-wrap\"\n    :style=\"style\"\n    @mousedown.left=\"control\"\n    @mouseup.left=\"release\"\n    @mouseleave=\"release\"\n    :data-window-switch=\"state.scale !== 1\"\n  >\n    <div class=\"blur-layer\">\n      <div class=\"color-layer\" :style=\"colorLayerStyle\">\n        <div class=\"noise-layer\"></div>\n      </div>\n    </div>\n    <div class=\"content\" :style=\"`color:${darkMode?'white':'black'}`\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, computed, onMounted, toRef, provide, inject, ref } from 'vue'\nimport { addCallBack } from '@/callbackPoll'\nimport { sharedState } from '../store'\nimport { num2color } from '@/util'\nimport {\n  useWindowWrapStyle,\n  useInitState,\n  useWindowControl\n} from './window'\n\nexport default defineComponent({\n  name: 'window',\n  props: {\n    initPos: {\n      default: () => ({\n        top: 256,\n        left: 256\n      })\n    },\n    name: {\n      type: String,\n      default: ''\n    },\n    dark: {\n      type: Boolean,\n      default: undefined\n    },\n    size: {\n      default: () => ({ width: 512, height: 256 })\n    }\n  },\n  setup (props) {\n    const p = props\n    const state = useInitState(p.initPos, p.name, p.size)\n    const { style } = useWindowWrapStyle(state)\n    const { move, control, release } = useWindowControl(state)\n    provide('window-size', state.size)\n    provide('window-offset', state.offset)\n    provide('window-state', ref(state))\n    const windowRegist = inject<(window: typeof state) => void>('window-regist')\n    onMounted(() => {\n      addCallBack('mousemove', move)\n      if (windowRegist) {\n        windowRegist(state)\n      }\n    })\n    const darkMode = ref(\n      props.dark === undefined\n        ? toRef(sharedState, 'darkMode')\n        : props.dark\n    )\n    const colorLayerStyle = computed(() => {\n      return `background: rgba(${num2color(\n        darkMode.value ? 0 : 0xffffff\n      )}, 0.4)`\n    })\n    return {\n      style,\n      colorLayerStyle,\n      release,\n      control,\n      darkMode,\n      state\n    }\n  }\n})\n</script>\n<style lang=\"scss\" scoped>\n.container-wrap {\n  position: absolute;\n  user-select: none;\n  position: fixed;\n  background: inherit;\n  overflow: hidden;\n  border: 2px solid #aaa;\n  top: 0;\n  left: 0;\n  &:hover[data-window-switch='true'] {\n    border: 2px solid white;\n    cursor: pointer;\n  }\n  .blur-layer {\n    position: relative;\n    top: -16px;\n    left: -16px;\n    width: calc(100% + 32px);\n    height: calc(100% + 32px);\n    background: inherit;\n    filter: blur(12px);\n    * {\n      width: 100%;\n      height: 100%;\n    }\n    .color-layer {\n      background: rgba(255, 255, 255, 0.6);\n    }\n  }\n\n  .content {\n    padding: 16px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    word-break: normal;\n    z-index: 3;\n    box-sizing: border-box;\n  }\n}\n</style>\n","export type eventType = 'mousemove'\nexport type fnType = (e: MouseEvent) => void\nconst eventPool = new Map<eventType, Array<fnType>>()\nexport const addCallBack = (event: eventType, cb: fnType) => {\n  const quene = eventPool.get(event)\n  if (quene) {\n    quene.push(cb)\n  } else {\n    eventPool.set(event, [cb])\n  }\n}\n\nexport const getCallBackQuene = (event: eventType) => {\n  return eventPool.get(event) || []\n}\n","import { computed, inject, reactive } from 'vue'\nimport { getIncrementId, Size } from '@/util'\n\nexport type StateFlag = 'start' | 'resize' | 'animal' | 'ani-delay' | 'tile'\nconst cursorMap: { [k in StateFlag]?: string } = {\n  start: 'move',\n  resize: 'nwse-resize'\n}\ntype Pos = { top: number; left: number }\nexport const useInitState = (initPos: Pos, name: string, size: Size) => {\n  return reactive({\n    offset: { top: 0, left: 0 },\n    size,\n    zIndex: 0,\n    backgroundPos: { top: 0, left: 0 },\n    flagSet: new Set<StateFlag>(),\n    initPos,\n    name,\n    scale: 1,\n    id: getIncrementId('window'),\n    styles: new Array<string>()\n  })\n}\nexport type windowState = ReturnType<typeof useInitState>\nexport const useWindowWrapStyle = (state: windowState) => {\n  const s = state\n  const style = computed(() => {\n    const bgPos = {\n      // 2边框，16白边切除的补偿\n      top: (-s.offset.top - s.initPos.top) / state.scale - 2 + 16,\n      left: (-s.offset.left - s.initPos.left) / state.scale - 2 + 16\n    }\n    const styleList = new Array<string>()\n    styleList.push(`\n    background-position:${bgPos.left}px ${bgPos.top}px;\n    transform:translate(${s.offset.left + s.initPos.left}px,${s.offset.top + s.initPos.top}px) scale(${s.scale});\n    cursor:${cursorMap[Array.from(s.flagSet.keys())[0]]};\n    width:${s.size.width}px;\n    height:${s.size.height}px;\n    z-index:${s.zIndex};\n    background-size:${(1 / state.scale) * 100}vw;\n    transform-origin: top left;`)\n    if (state.flagSet.has('animal')) {\n      styleList.push('transition: all .7s ease')\n    }\n    if (state.flagSet.has('ani-delay')) {\n      styleList.push('transition-delay: .1s')\n    }\n    return [...state.styles, ...styleList].join(';')\n  })\n  return {\n    style\n  }\n}\n\nexport let maxZIndex = 1\nexport const incrMaxZindex = () => ++maxZIndex\n/**\n * 窗口移动和组件重置\n */\nexport const useWindowControl = (state: windowState) => {\n  const addTrigrWindow = inject<(type: 'click', winstate: windowState) => void>('add-trigger-window')\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const control = (_e: MouseEvent) => {\n    addTrigrWindow && addTrigrWindow('click', state)\n    state.flagSet.add('start')\n    if (state.zIndex < maxZIndex) {\n      console.log(state.flagSet.has('animal'))\n      state.zIndex = maxZIndex + 1 // 让点击到窗口保持在最上层\n      maxZIndex = state.zIndex\n    }\n  }\n  const stateStack = new Array<Array<StateFlag>>()\n  const s = state\n  const release = (e: MouseEvent) => {\n    if (s.flagSet.has('tile')) {\n      return\n    }\n    const { type } = e\n    switch (type) {\n      case 'mouseleave':\n        !s.flagSet.has('resize') && s.flagSet.clear()\n        break\n      case 'mouseup':\n        s.flagSet.clear()\n        break\n    }\n  }\n  const move = (e: MouseEvent) => {\n    if (s.flagSet.has('tile')) {\n      return\n    }\n    if (s.flagSet.has('start')) {\n      if (s.flagSet.has('resize')) {\n        s.size.width += e.movementX\n        s.size.height += e.movementY\n      } else {\n        s.offset.left += e.movementX\n        s.offset.top += e.movementY\n      }\n    }\n    const areaLeft = s.offset.left + s.initPos.left + s.size.width\n    const areaTop = s.offset.top + s.initPos.top + s.size.height\n    const areaSide = 16\n    if (areaLeft - e.pageX > 0 && areaLeft - e.pageX < areaSide && areaTop - e.pageY > 0 && areaTop - e.pageY < areaSide) {\n      if (!s.flagSet.has('resize')) { // 进入重置区域\n        stateStack.push(Array.from(s.flagSet))\n      }\n      s.flagSet.add('resize')\n    } else {\n      if (s.flagSet.has('resize')) {\n        const lastState = stateStack.pop()\n        if (lastState) {\n          s.flagSet.clear()\n          lastState.forEach(state => s.flagSet.add(state))\n        }\n      }\n    }\n  }\n  return {\n    release,\n    control,\n    move\n  }\n}\n","\nimport { defineComponent, computed, onMounted, toRef, provide, inject, ref } from 'vue'\nimport { addCallBack } from '@/callbackPoll'\nimport { sharedState } from '../store'\nimport { num2color } from '@/util'\nimport {\n  useWindowWrapStyle,\n  useInitState,\n  useWindowControl\n} from './window'\n\nexport default defineComponent({\n  name: 'window',\n  props: {\n    initPos: {\n      default: () => ({\n        top: 256,\n        left: 256\n      })\n    },\n    name: {\n      type: String,\n      default: ''\n    },\n    dark: {\n      type: Boolean,\n      default: undefined\n    },\n    size: {\n      default: () => ({ width: 512, height: 256 })\n    }\n  },\n  setup (props) {\n    const p = props\n    const state = useInitState(p.initPos, p.name, p.size)\n    const { style } = useWindowWrapStyle(state)\n    const { move, control, release } = useWindowControl(state)\n    provide('window-size', state.size)\n    provide('window-offset', state.offset)\n    provide('window-state', ref(state))\n    const windowRegist = inject<(window: typeof state) => void>('window-regist')\n    onMounted(() => {\n      addCallBack('mousemove', move)\n      if (windowRegist) {\n        windowRegist(state)\n      }\n    })\n    const darkMode = ref(\n      props.dark === undefined\n        ? toRef(sharedState, 'darkMode')\n        : props.dark\n    )\n    const colorLayerStyle = computed(() => {\n      return `background: rgba(${num2color(\n        darkMode.value ? 0 : 0xffffff\n      )}, 0.4)`\n    })\n    return {\n      style,\n      colorLayerStyle,\n      release,\n      control,\n      darkMode,\n      state\n    }\n  }\n})\n","import { render } from \"./window.vue?vue&type=template&id=390b05ae&scoped=true\"\nimport script from \"./window.vue?vue&type=script&lang=ts\"\nexport * from \"./window.vue?vue&type=script&lang=ts\"\n\nimport \"./window.vue?vue&type=style&index=0&id=390b05ae&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-390b05ae\"\n\nexport default script","<template>\n  <div class=\"block\" ref=\"domRef\">\n    <slot></slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\n\nimport { defineComponent, onMounted, inject, ref, onUnmounted } from 'vue'\nimport { AnyBlockState } from '@/util'\n\nexport default defineComponent({\n  name: 'reveal',\n  props: {\n    value: {\n      type: String\n    }\n  },\n  setup (props) {\n    const domRef = ref<HTMLElement>()\n    const rect = ref<DOMRect | null>(null)\n    let ro: ResizeObserver\n    const blockId = ref<number>()\n    const unmountedBlock = inject<(id: number) => void>('unmounted-block')\n    const regist = inject<(state: AnyBlockState) => number>('regist-any-block')\n    const updateState = inject<(state: AnyBlockState) => number>('update-block-state')\n    const onWillUpdateRect = inject<(cb: () => void, id: number) => void>('on-will-update-rect')\n    onMounted(() => {\n      const dom = domRef.value\n      if (!dom) {\n        throw new Error('任意形状块获取dom失败!!!')\n      }\n      if (!(regist && updateState && onWillUpdateRect)) {\n        throw new Error('block组件必须在block-container组件的包裹下')\n      }\n      ro = new ResizeObserver(entries => {\n        rect.value = entries[0].target.getBoundingClientRect()\n        updateState({ value: props.value, rect: rect.value, id: blockId.value || -1 })\n      })\n      ro.observe(dom)\n      blockId.value = regist({ value: props.value, rect: rect.value, id: -1 })\n      onWillUpdateRect(() => {\n        rect.value = dom.getBoundingClientRect()\n        updateState({ value: props.value, rect: rect.value, id: blockId.value! })\n      }, blockId.value)\n    })\n    onUnmounted(() => {\n      const dom = domRef.value\n      if (dom && ro) {\n        ro.disconnect()\n      }\n      unmountedBlock && unmountedBlock(blockId.value!)\n    })\n    return {\n      domRef\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.block-wrap {\n  display: inline-block;\n}\n.block {\n  display: inline-block;\n  border: 2px solid transparent;\n  margin: 2px;\n}\n</style>\n","\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\n\nimport { defineComponent, onMounted, inject, ref, onUnmounted } from 'vue'\nimport { AnyBlockState } from '@/util'\n\nexport default defineComponent({\n  name: 'reveal',\n  props: {\n    value: {\n      type: String\n    }\n  },\n  setup (props) {\n    const domRef = ref<HTMLElement>()\n    const rect = ref<DOMRect | null>(null)\n    let ro: ResizeObserver\n    const blockId = ref<number>()\n    const unmountedBlock = inject<(id: number) => void>('unmounted-block')\n    const regist = inject<(state: AnyBlockState) => number>('regist-any-block')\n    const updateState = inject<(state: AnyBlockState) => number>('update-block-state')\n    const onWillUpdateRect = inject<(cb: () => void, id: number) => void>('on-will-update-rect')\n    onMounted(() => {\n      const dom = domRef.value\n      if (!dom) {\n        throw new Error('任意形状块获取dom失败!!!')\n      }\n      if (!(regist && updateState && onWillUpdateRect)) {\n        throw new Error('block组件必须在block-container组件的包裹下')\n      }\n      ro = new ResizeObserver(entries => {\n        rect.value = entries[0].target.getBoundingClientRect()\n        updateState({ value: props.value, rect: rect.value, id: blockId.value || -1 })\n      })\n      ro.observe(dom)\n      blockId.value = regist({ value: props.value, rect: rect.value, id: -1 })\n      onWillUpdateRect(() => {\n        rect.value = dom.getBoundingClientRect()\n        updateState({ value: props.value, rect: rect.value, id: blockId.value! })\n      }, blockId.value)\n    })\n    onUnmounted(() => {\n      const dom = domRef.value\n      if (dom && ro) {\n        ro.disconnect()\n      }\n      unmountedBlock && unmountedBlock(blockId.value!)\n    })\n    return {\n      domRef\n    }\n  }\n})\n","import { render } from \"./reveal.vue?vue&type=template&id=624bc09c&scoped=true\"\nimport script from \"./reveal.vue?vue&type=script&lang=ts\"\nexport * from \"./reveal.vue?vue&type=script&lang=ts\"\n\nimport \"./reveal.vue?vue&type=style&index=0&id=624bc09c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-624bc09c\"\n\nexport default script","<template>\n  <div class=\"block-container\" @mousemove=\"control\" @mouseleave=\"release\" ref=\"blockContainerRef\">\n    <slot></slot>\n    <svg\n      class=\"svg-mask\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n      :viewBox=\"`0 0 ${Math.max(windowSize.width - 32, 0)} ${Math.max(windowSize.height - 32, 0)}`\"\n      ref=\"svgRef\"\n    >\n      <defs>\n        <radialGradient\n          :id=\"`Gradient-${id}`\"\n          :cx=\"svgCursorPercent.x\"\n          :cy=\"svgCursorPercent.y\"\n          r=\"0.2\"\n        >\n          <stop offset=\"0%\" stop-color=\"white\" />\n          <stop offset=\"100%\" stop-color=\"transparent\" />\n        </radialGradient>\n        <mask :id=\"`Mask-${id}`\">\n          <rect\n            v-for=\"item in layout\"\n            :x=\"item.x-1\"\n            :y=\"item.y-1\"\n            :width=\"item.width\"\n            :height=\"item.height\"\n            :key=\"item.i\"\n            fill=\"black\"\n            stroke=\"white\"\n            stroke-width=\"2\"\n          />\n        </mask>\n      </defs>\n      <rect\n        x=\"0\"\n        y=\"0\"\n        :width=\"maxSide\"\n        :height=\"maxSide\"\n        :fill=\"isStart?`url(\\'#Gradient-${id}\\')`:'transparent'\"\n        :mask=\"isStart?`url(\\'#Mask-${id}\\')`:undefined\"\n      />\n    </svg>\n  </div>\n</template>\n<script lang=\"tsx\">\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\n\nimport {\n  defineComponent,\n  ref,\n  onMounted,\n  provide,\n  inject,\n  watch,\n  computed,\n  reactive,\n  Ref,\n  onUnmounted, toRef\n} from 'vue'\nimport { debounce } from 'lodash'\nimport { addCallBack } from '@/callbackPoll'\nimport { Size, AnyBlockState, getIncrementId } from '@/util'\nimport { windowState } from './window'\n\nconst useSvg = (windowSize: Ref<Size>, windowOffset: Ref<{ top: number; left: number }>, state?: Ref<windowState>) => {\n  type state = {\n    rect: {\n      width: number;\n      height: number;\n    };\n    value?: string;\n    i: number;\n  }\n  const svgRef = ref<SVGElement>()\n  const svgRect = ref<DOMRect>()\n  // 太麻烦，暂时不用\n  const svgObserver = {\n    ro: new ResizeObserver(() => {\n      svgRect.value = svgRef.value!.getBoundingClientRect()\n    }),\n    mounted: () => {\n      const dom = svgRef.value\n      if (!dom) {\n        throw new Error('获取svg dom失败!!!')\n      }\n      svgRect.value = dom.getBoundingClientRect()\n      svgObserver.ro.observe(dom)\n    },\n    unmounted: () => {\n      svgObserver.ro.disconnect()\n    }\n  }\n  const svgCursorPercent = ref<{ x: number | string; y: number | string }>({\n    x: 0,\n    y: 0\n  })\n  const maxSide = computed(() => Math.max(windowSize.value.height - 32, windowSize.value.width - 32, 0))\n  type Flag = 'start'\n  const svgStateStack = reactive(new Set<Flag>())\n  const control = () => {\n    svgStateStack.add('start')\n  }\n  const release = () => {\n    svgStateStack.delete('start')\n  }\n  const cursorMove = (e: MouseEvent) => {\n    if (state?.value.flagSet.has('tile')) {\n      return\n    }\n    const svg = svgRef.value\n    if (svgStateStack.has('start') && svg) {\n      const rect = svg.getBoundingClientRect()\n      const x = e.x - rect.x\n      const y = e.y - rect.y\n      svgCursorPercent.value = {\n        x: x / maxSide.value,\n        y: y / maxSide.value\n      }\n    }\n  }\n  const blocks = reactive(new Array<AnyBlockState>())\n  const layout = computed(() => {\n    const svg = svgRef.value\n    const rect = svg ? svg.getBoundingClientRect() : { x: 0, y: 0 }\n    const res = blocks.filter(item => item.rect)\n      .map((item) => ({\n        width: item.rect!.width,\n        height: item.rect!.height,\n        i: item.id,\n        x: item.rect!.x - rect.x,\n        y: item.rect!.y - rect.y\n      }))\n    return res\n  })\n  const isStart = computed(() => {\n    // 缩放时不需要灯效\n    if (state?.value.flagSet.has('tile')) {\n      return false\n    }\n    return svgStateStack.has('start')\n  })\n  return {\n    layout,\n    svgCursorPercent,\n    svgRef,\n    control,\n    release,\n    cursorMove,\n    blocks,\n    isStart,\n    maxSide,\n    svgObserver\n  }\n}\n\nconst useProvider = (blocks: Array<AnyBlockState>) => {\n  const idCounter = ref(0)\n  type QueneType = { cb: () => void; id: number }\n  const updateQuene = new Array<QueneType>()\n  provide('regist-any-block', (state: AnyBlockState) => {\n    state.id = ++idCounter.value\n    blocks.push(state)\n    return state.id\n  })\n  provide('update-block-state', (state: AnyBlockState) => {\n    const idx = blocks.findIndex(item => item.id === state.id)\n    if (idx !== -1) {\n      blocks[idx] = state\n    }\n  })\n  provide('on-will-update-rect', (cb: () => void, id: number) => {\n    updateQuene.push({ cb, id })\n  })\n  provide('unmounted-block', (id: number) => {\n    updateQuene.splice(updateQuene.findIndex(item => item.id === id), 1)\n    blocks.splice(blocks.findIndex(item => item.id === id), 1)\n  })\n  return {\n    updateQuene\n  }\n}\n\nexport default defineComponent({\n  name: 'reveal-container',\n  setup () {\n    const state = inject<Ref<windowState>>('window-state')\n    const id = getIncrementId('block-container')\n    const initOffset = { top: 0, left: 0 }\n    const windowSize = ref({ width: 200, height: 200 })\n    const windowOffset = ref(initOffset)\n    const {\n      layout,\n      svgCursorPercent,\n      svgRef,\n      cursorMove,\n      control,\n      release,\n      blocks,\n      isStart,\n      maxSide,\n      svgObserver\n    } = useSvg(windowSize, windowOffset, state)\n    const { updateQuene } = useProvider(blocks)\n    const refreshMask = debounce(() => {\n      updateQuene.forEach(val => val.cb())\n    }, 100)\n    const blockContainerRef = ref<HTMLDivElement>()\n    const ro = new ResizeObserver(refreshMask)\n    onMounted(() => {\n      const dom = blockContainerRef.value\n      if (dom) {\n        ro.observe(dom)\n      }\n      const size = inject<Size>('window-size')\n      const offset = inject<typeof initOffset>('window-offset')\n      if (!(size)) {\n        throw new Error('block-container组件必须在window组件的包裹下或手动注入窗口尺寸')\n      }\n      windowSize.value = size\n      if (offset) {\n        windowOffset.value = offset\n      }\n      svgObserver.mounted()\n      if (windowSize.value) {\n        watch([state && toRef(state.value, 'flagSet'), windowSize], refreshMask, {\n          deep: true,\n          immediate: true\n        })\n      }\n      addCallBack('mousemove', debounce(cursorMove))\n    })\n    onUnmounted(() => {\n      svgObserver.unmounted()\n      ro.disconnect()\n    })\n    return {\n      layout,\n      svgCursorPercent,\n      svgRef,\n      control,\n      release,\n      windowSize,\n      isStart,\n      maxSide,\n      id,\n      blockContainerRef\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.block-container {\n  position: relative;\n  .svg-mask {\n    pointer-events: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n}\n</style>\n","\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\n\nimport {\n  defineComponent,\n  ref,\n  onMounted,\n  provide,\n  inject,\n  watch,\n  computed,\n  reactive,\n  Ref,\n  onUnmounted, toRef\n} from 'vue'\nimport { debounce } from 'lodash'\nimport { addCallBack } from '@/callbackPoll'\nimport { Size, AnyBlockState, getIncrementId } from '@/util'\nimport { windowState } from './window'\n\nconst useSvg = (windowSize: Ref<Size>, windowOffset: Ref<{ top: number; left: number }>, state?: Ref<windowState>) => {\n  type state = {\n    rect: {\n      width: number;\n      height: number;\n    };\n    value?: string;\n    i: number;\n  }\n  const svgRef = ref<SVGElement>()\n  const svgRect = ref<DOMRect>()\n  // 太麻烦，暂时不用\n  const svgObserver = {\n    ro: new ResizeObserver(() => {\n      svgRect.value = svgRef.value!.getBoundingClientRect()\n    }),\n    mounted: () => {\n      const dom = svgRef.value\n      if (!dom) {\n        throw new Error('获取svg dom失败!!!')\n      }\n      svgRect.value = dom.getBoundingClientRect()\n      svgObserver.ro.observe(dom)\n    },\n    unmounted: () => {\n      svgObserver.ro.disconnect()\n    }\n  }\n  const svgCursorPercent = ref<{ x: number | string; y: number | string }>({\n    x: 0,\n    y: 0\n  })\n  const maxSide = computed(() => Math.max(windowSize.value.height - 32, windowSize.value.width - 32, 0))\n  type Flag = 'start'\n  const svgStateStack = reactive(new Set<Flag>())\n  const control = () => {\n    svgStateStack.add('start')\n  }\n  const release = () => {\n    svgStateStack.delete('start')\n  }\n  const cursorMove = (e: MouseEvent) => {\n    if (state?.value.flagSet.has('tile')) {\n      return\n    }\n    const svg = svgRef.value\n    if (svgStateStack.has('start') && svg) {\n      const rect = svg.getBoundingClientRect()\n      const x = e.x - rect.x\n      const y = e.y - rect.y\n      svgCursorPercent.value = {\n        x: x / maxSide.value,\n        y: y / maxSide.value\n      }\n    }\n  }\n  const blocks = reactive(new Array<AnyBlockState>())\n  const layout = computed(() => {\n    const svg = svgRef.value\n    const rect = svg ? svg.getBoundingClientRect() : { x: 0, y: 0 }\n    const res = blocks.filter(item => item.rect)\n      .map((item) => ({\n        width: item.rect!.width,\n        height: item.rect!.height,\n        i: item.id,\n        x: item.rect!.x - rect.x,\n        y: item.rect!.y - rect.y\n      }))\n    return res\n  })\n  const isStart = computed(() => {\n    // 缩放时不需要灯效\n    if (state?.value.flagSet.has('tile')) {\n      return false\n    }\n    return svgStateStack.has('start')\n  })\n  return {\n    layout,\n    svgCursorPercent,\n    svgRef,\n    control,\n    release,\n    cursorMove,\n    blocks,\n    isStart,\n    maxSide,\n    svgObserver\n  }\n}\n\nconst useProvider = (blocks: Array<AnyBlockState>) => {\n  const idCounter = ref(0)\n  type QueneType = { cb: () => void; id: number }\n  const updateQuene = new Array<QueneType>()\n  provide('regist-any-block', (state: AnyBlockState) => {\n    state.id = ++idCounter.value\n    blocks.push(state)\n    return state.id\n  })\n  provide('update-block-state', (state: AnyBlockState) => {\n    const idx = blocks.findIndex(item => item.id === state.id)\n    if (idx !== -1) {\n      blocks[idx] = state\n    }\n  })\n  provide('on-will-update-rect', (cb: () => void, id: number) => {\n    updateQuene.push({ cb, id })\n  })\n  provide('unmounted-block', (id: number) => {\n    updateQuene.splice(updateQuene.findIndex(item => item.id === id), 1)\n    blocks.splice(blocks.findIndex(item => item.id === id), 1)\n  })\n  return {\n    updateQuene\n  }\n}\n\nexport default defineComponent({\n  name: 'reveal-container',\n  setup () {\n    const state = inject<Ref<windowState>>('window-state')\n    const id = getIncrementId('block-container')\n    const initOffset = { top: 0, left: 0 }\n    const windowSize = ref({ width: 200, height: 200 })\n    const windowOffset = ref(initOffset)\n    const {\n      layout,\n      svgCursorPercent,\n      svgRef,\n      cursorMove,\n      control,\n      release,\n      blocks,\n      isStart,\n      maxSide,\n      svgObserver\n    } = useSvg(windowSize, windowOffset, state)\n    const { updateQuene } = useProvider(blocks)\n    const refreshMask = debounce(() => {\n      updateQuene.forEach(val => val.cb())\n    }, 100)\n    const blockContainerRef = ref<HTMLDivElement>()\n    const ro = new ResizeObserver(refreshMask)\n    onMounted(() => {\n      const dom = blockContainerRef.value\n      if (dom) {\n        ro.observe(dom)\n      }\n      const size = inject<Size>('window-size')\n      const offset = inject<typeof initOffset>('window-offset')\n      if (!(size)) {\n        throw new Error('block-container组件必须在window组件的包裹下或手动注入窗口尺寸')\n      }\n      windowSize.value = size\n      if (offset) {\n        windowOffset.value = offset\n      }\n      svgObserver.mounted()\n      if (windowSize.value) {\n        watch([state && toRef(state.value, 'flagSet'), windowSize], refreshMask, {\n          deep: true,\n          immediate: true\n        })\n      }\n      addCallBack('mousemove', debounce(cursorMove))\n    })\n    onUnmounted(() => {\n      svgObserver.unmounted()\n      ro.disconnect()\n    })\n    return {\n      layout,\n      svgCursorPercent,\n      svgRef,\n      control,\n      release,\n      windowSize,\n      isStart,\n      maxSide,\n      id,\n      blockContainerRef\n    }\n  }\n})\n","import { render } from \"./reveal-container.vue?vue&type=template&id=6164e438&scoped=true\"\nimport script from \"./reveal-container.vue?vue&type=script&lang=tsx\"\nexport * from \"./reveal-container.vue?vue&type=script&lang=tsx\"\n\nimport \"./reveal-container.vue?vue&type=style&index=0&id=6164e438&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6164e438\"\n\nexport default script","<template>\n  <div class=\"window-container\" ref=\"selfRef\" @mousemove=\"onMouseMove\" :style=\"style\">\n    <slot></slot>\n    <sidebar :container-state=\"state\"/>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, provide, reactive, ref, computed, onMounted } from 'vue'\nimport { windowState } from './window'\nimport { getCallBackQuene } from '@/callbackPoll'\nimport { ContainersState, useAutoLayout } from './window-container'\nimport sidebar from './sidebar.vue'\nexport default defineComponent({\n  name: 'window-container',\n  props: {\n    bgUrl: {\n      type: String,\n      required: true\n    }\n  },\n  components: {\n    sidebar\n  },\n  setup (props) {\n    const state: ContainersState = reactive({\n      windowTriggerPool: new Map<'click', windowState[]>(),\n      bodyRect: null,\n      windows: new Array<windowState>(),\n      flagSet: new Set()\n    })\n    provide('add-trigger-window', (type: 'click', winstate: windowState) => {\n      const quene = state.windowTriggerPool.get('click')\n      if (quene) {\n        quene.push(winstate)\n      } else {\n        state.windowTriggerPool.set('click', [winstate])\n      }\n    })\n    const ro = new ResizeObserver(body => {\n      state.bodyRect = body[0].target.getBoundingClientRect()\n    })\n    provide('windows', state.windows)\n    provide('window-regist', (window: windowState) => {\n      state.windows.push(window)\n    })\n    const selfRef = ref<HTMLDivElement | null>(null)\n    onMounted(() => {\n      const dom = selfRef.value\n      if (dom) {\n        ro.observe(dom)\n        setTimeout(() => {\n          useAutoLayout(state)\n        }, 0)\n      }\n    })\n    const onMouseMove = (e: MouseEvent) => {\n      getCallBackQuene('mousemove').forEach((cb) => cb(e))\n    }\n    const style = computed(() => `background-image:url(${props.bgUrl})`)\n    return {\n      window,\n      selfRef,\n      onMouseMove,\n      style,\n      state\n    }\n  }\n})\n</script>\n<style lang=\"scss\" scoped>\n.window-container {\n  background-size: 100vw;\n  margin: 0;\n  width: 100vw;\n  height: 100vh;\n  overflow: auto;\n  padding: 128px;\n  box-sizing: border-box;\n  position: relative;\n}\n</style>\n","\nimport { resetArray, curry } from '@/util'\nimport { cloneDeep } from 'lodash'\nimport { watch } from 'vue'\nimport { windowState } from './window'\nexport type BaseLine = { y: number; width: number }\n\n/**\n * 获取指定块在目标基线序列中的起始位置\n * @param baselines 基线序列\n * @param index 目标基线索引\n */\nexport const getStartPosPF = (baselines: BaseLine[], index: number) => {\n  return baselines.slice(0, index).reduce((p, c) => p + c.width, 0)\n}\n\nexport const note = (msg: string) => {\n  throw new Error(msg)\n}\nconst debug = (x: any, msg = '', enable = false) => {\n  if (enable) {\n    console.log(msg + (msg ? ': \\n' : '') + JSON.stringify(x, null, 4))\n  }\n}\n\n/**\n * 插入一条新的基线到一组基线中，返回一个新的基线序列\n * @param baselines 原始基线序列\n * @param base  插入的基线\n * @param start 插入起始位置\n */\nexport const insertBaseLinePF = (_baselines: BaseLine[], base: BaseLine, start: number) => {\n  const baselines = cloneDeep(_baselines)\n  const allWidth = baselines.reduce((p, c) => p + c.width, 0)\n  const maxY = baselines.reduce((p, c) => p > c.y ? p : c.y, 0)\n  if (allWidth <= base.width && maxY <= base.y) {\n    return resetArray(baselines, base)\n  }\n  const getStartPos = curry(getStartPosPF, baselines)\n  const end = start + base.width\n  let startBase: BaseLine | undefined // 插入后的受影响范围\n  let endBase: BaseLine | undefined\n  for (let index = 0; index < baselines.length; index++) {\n    const curr = baselines[index]\n    const currbaselinestartPos = getStartPos(index) // 前面所有基线加起来的宽度\n    if (!startBase && (currbaselinestartPos <= start && start <= currbaselinestartPos + curr.width)) {\n      startBase = curr\n    }\n    if (currbaselinestartPos <= end && end <= currbaselinestartPos + curr.width) {\n      endBase = curr\n    }\n    if (startBase && endBase) {\n      break\n    }\n  }\n  if (!startBase || !endBase) {\n    debug(startBase, 'start-base')\n    debug(endBase, 'end-base')\n    throw new Error('找不到startBase或endBase')\n  }\n  const startIdx = baselines.indexOf(startBase)\n  const endIdx = baselines.indexOf(endBase)\n  const newStart: BaseLine = {\n    y: startBase.y,\n    width: start - getStartPos(startIdx)\n  }\n  const newEnd: BaseLine = {\n    y: endBase.y,\n    width: getStartPos(endIdx) + endBase.width - (getStartPos(startIdx) + newStart.width + base.width)\n  }\n  baselines.splice(startIdx, endIdx - startIdx + 1, newStart, base, newEnd)\n  while (baselines.find(bl => !bl.width)) {\n    baselines.splice(baselines.findIndex(bl => bl.width < 1), 1)\n  }\n  debug(baselines, '更新基线')\n  return baselines\n}\n\nexport const scanPF = (conf: AllocConf, needWidth: number) => {\n  const { baselines, maxWidth } = conf\n  const getStartPos = curry(getStartPosPF, baselines)\n  /**\n     * 搜索可用路径\n     * @param base 当前块\n     * @param seq 累计结果序列\n     */\n  const scan = (base: BaseLine, ...seq: BaseLine[]): null | { start: number; bls: BaseLine[] } => {\n    seq.push(base)\n    const idx = baselines.indexOf(base)\n    const firstEleStartPos = getStartPos(idx - (seq.length - 1))// 序列首个元素的起始位置\n    if (seq[0].y < base.y) { // 碰到到个比初始高的放弃\n      return null\n    }\n    const reduceWidth = seq.reduce((p, c) => p + c.width, 0)\n    if (reduceWidth >= needWidth && firstEleStartPos + needWidth <= maxWidth) { // 得到一组解决方案\n      return {\n        bls: seq,\n        start: firstEleStartPos\n      }\n    }\n    if (idx + 1 === baselines.length || firstEleStartPos + reduceWidth > maxWidth) { // 移到最右侧或者放不下 换下一行\n      const nextY = baselines.reduce((p, c) => p > c.y ? p : c.y, 0)\n      return {\n        start: 0,\n        bls: [{\n          width: needWidth,\n          y: nextY\n        }]\n      }\n    }\n    return scan(baselines[idx + 1], ...seq) // 继续向右找\n  }\n  return scan\n}\n\ntype AllocConf = {\n  baselines: BaseLine[];\n  scale: number;\n  maxHeight: number;\n  maxWidth: number;\n  margin: number;\n  hasInsertFirst: boolean;\n}\n\nconst alloc = (conf: AllocConf, curr: windowState) => {\n  const { baselines, scale, margin } = conf\n  const insertBaseLine = curry(insertBaseLinePF, baselines)\n  let x = 0\n  let y = 0\n  const { size } = curr\n  if (conf.hasInsertFirst === true) {\n    const needWidth = size.width * scale + margin * 2\n    const availableArea = new Array<{ start: number; baseLine: BaseLine }>()\n    for (const base of baselines) {\n      const res = scanPF(conf, needWidth)(base)\n      if (res) { // 将求得的解合并\n        availableArea.push({\n          baseLine: {\n            width: needWidth,\n            // 旧基线 + 窗口高度 + 外边距\n            y: Math.max(...res.bls.map(x => x.y)) + curr.size.height * scale + margin * 2\n          },\n          start: res.start\n        })\n      }\n    }\n    if (availableArea.length && availableArea[0].baseLine.y !== 0) {\n      const res = availableArea.sort((a, b) => a.baseLine.y - b.baseLine.y)[0] // 存在多种解，取最优解\n      x = res.start\n      y = res.baseLine.y - curr.size.height * scale - margin * 2\n      if (res.baseLine.y > conf.maxHeight) { // 超出边界，减小比例重新分配\n        return null\n      }\n      // 接受这个解并修改基线，进行下次分配\n      const newBaseLine = insertBaseLine(res.baseLine, res.start)\n      resetArray(baselines, ...newBaseLine)\n    } else {\n      return null // 没有解，减小比例重试\n    }\n  } else { // 第一个可以直接放在左上角\n    const y = size.height * scale + margin * 2\n    const width = size.width * scale\n    debug({ y, width }, '新插入基线-')\n    const res = insertBaseLine({ y, width }, 0)\n    resetArray(baselines, ...res)\n  }\n  conf.hasInsertFirst = true\n  return {\n    scale,\n    x,\n    y\n  }\n}\n\nexport type ContainersState = {\n  windows: windowState[];\n  bodyRect: DOMRect | null;\n  windowTriggerPool: Map<'click', windowState[]>;\n  flagSet: Set<'window-switch'>;\n}\n\ntype Layout = { bind: windowState; scale: number; x: number; y: number }\n\nconst watchExpandTrigger = (state: ContainersState, res: Layout[], stateBackup: windowState[]) => {\n  const stop = watch(state.windowTriggerPool, val => {\n    val.get('click')?.forEach(() => {\n      stop()\n      const getPrevCurrForeach = () => {\n        const pc = res\n          .map(s => ({ e: stateBackup.find(backup => backup.id === s.bind.id)!, s }))\n        return pc.forEach.bind(pc)\n      }\n      getPrevCurrForeach()(({ s, e }) => {\n        s.bind.flagSet.add('animal')\n        s.bind.flagSet.delete('start')\n        s.bind.scale = e.scale\n        s.bind.initPos = e.initPos\n        s.bind.offset = e.offset\n      })\n      setTimeout(() => {\n        getPrevCurrForeach()(({ s }) => {\n          s.bind.flagSet.delete('tile')\n          s.bind.flagSet.delete('animal')\n        })\n      }, 700)\n      val.delete('click')\n      state.flagSet.delete('window-switch')\n    })\n  })\n}\n\ntype Padding = { top: number; left: number; right: number; bottom: number }\nconst startTileAnimal = (res: Layout[], containerPadding: Padding, windowMargin: number, state: ContainersState, stateBackup: windowState[]) => {\n  const se = res.map(start => {\n    const end = cloneDeep(start.bind)\n    end.initPos = {\n      top: 0,\n      left: 0\n    }\n    end.offset = {\n      top: start.y + containerPadding.top + windowMargin,\n      left: start.x + containerPadding.left + windowMargin\n    }\n    end.scale = start.scale\n    return {\n      start,\n      end\n    }\n  })\n  se.forEach(({ start: s, end: e }) => {\n    s.bind.flagSet.delete('start')\n    s.bind.flagSet.add('tile')\n    s.bind.flagSet.add('animal')\n    s.bind.scale = e.scale\n    s.bind.initPos = e.initPos\n    s.bind.offset = e.offset\n  })\n  setTimeout(() => {\n    se.forEach(({ start: s }) => {\n      s.bind.flagSet.delete('animal')\n    })\n    watchExpandTrigger(state, res, stateBackup)\n  }, 700)\n  state.flagSet.add('window-switch')\n}\n\nexport const useAutoLayout = (state: ContainersState) => {\n  if (state.flagSet.has('window-switch')) {\n    return\n  }\n  const _windows = state.windows\n  const { bodyRect } = state\n  const stateBackup = cloneDeep(_windows)\n  const body = bodyRect\n  const containerPadding = {\n    top: 16,\n    left: 16,\n    right: 160,\n    bottom: 16\n  }\n  const windowMargin = 8\n  if (!body) {\n    return\n  }\n  const res = new Array<Layout>()\n  const availableWidth = body.width - containerPadding.left - containerPadding.right\n  const availableHeight = body.height - containerPadding.top - containerPadding.bottom\n  const baselines: BaseLine[] = [{ y: 0, width: availableWidth }]\n  debug(baselines, '初始基线')\n  const windows = [..._windows]\n  const conf: AllocConf = {\n    baselines,\n    scale: 1,\n    maxWidth: availableWidth,\n    maxHeight: availableHeight,\n    hasInsertFirst: false,\n    margin: windowMargin\n  }\n  while (windows.length) {\n    const curr = windows.shift()\n    if (!curr) {\n      break\n    }\n    const rect = alloc(conf, curr)\n    if (rect) {\n      res.push({ bind: curr, ...rect })\n    } else { // 分配失败\n      conf.scale -= 0.05\n      resetArray(windows, ..._windows)\n      resetArray(res)\n      resetArray(baselines, { y: 0, width: availableWidth })\n      if (conf.scale < 0) {\n        throw new Error('分配异常')\n      }\n    }\n  }\n  startTileAnimal(res, containerPadding, windowMargin, state, stateBackup)\n  debug(baselines, '结束')\n  debug(res)\n}\n","<template>\n  <div class=\"aside-manage-bar\">\n    <ul class=\"windows-list\" ref=\"windowsListRef\">\n      <li class=\"profile auto-layout\"  @click=\"autoLayout\">\n        <div>平铺所有窗口</div>\n      </li>\n      <li v-for=\"window in windows\" :key=\"window.id\" class=\"profile\">\n        <div @click=\"pullWindow(window)\">{{window.name}}</div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, provide, reactive, ref, onMounted, inject } from 'vue'\nimport { windowState, incrMaxZindex } from './window'\nimport { ContainersState, useAutoLayout } from './window-container'\n\nexport default defineComponent({\n  name: 'window-container-sidebar',\n  props: {\n    containerState: {\n      default: () => {\n        return {} as ContainersState\n      }\n    }\n  },\n  setup (props) {\n    const windows = ref(new Array<windowState>())\n    const windowsListRef = ref<HTMLUListElement>()\n    const blockRect = reactive({ width: 0, height: 0 })\n    provide('window-size', blockRect)\n    onMounted(() => {\n      windows.value = inject<windowState[]>('windows', [])\n    })\n    const pullWindow = (win: windowState) => {\n      win.zIndex = incrMaxZindex()\n    }\n    const autoLayout = () => {\n      useAutoLayout(props.containerState)\n    }\n    return {\n      windows,\n      windowsListRef,\n      pullWindow,\n      autoLayout\n    }\n  }\n})\n</script>\n<style lang=\"scss\" scoped>\n.aside-manage-bar {\n  user-select: none;\n  color: white;\n  position: fixed;\n  right: 0;\n  border-radius: 4px;\n  height: 60vh;\n  top: 20vh;\n  z-index: 233;\n  border-top-left-radius: 2px;\n  border-bottom-left-radius: 2px;\n  background: rgba(63, 63, 63, 0.555);\n  .windows-list {\n    position: relative;\n    height: 100%;\n    overflow: auto;\n    min-width: 128px;\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    .auto-layout {\n      position: sticky;\n      top: -1px;\n      background: rgba(0, 0, 0, 0.74);\n    }\n    .profile {\n      cursor: pointer;\n      padding: 16px;\n      &:hover {\n        background: rgba(102, 102, 102, 0.74);\n      }\n    }\n  }\n}\n</style>\n","\nimport { defineComponent, provide, reactive, ref, onMounted, inject } from 'vue'\nimport { windowState, incrMaxZindex } from './window'\nimport { ContainersState, useAutoLayout } from './window-container'\n\nexport default defineComponent({\n  name: 'window-container-sidebar',\n  props: {\n    containerState: {\n      default: () => {\n        return {} as ContainersState\n      }\n    }\n  },\n  setup (props) {\n    const windows = ref(new Array<windowState>())\n    const windowsListRef = ref<HTMLUListElement>()\n    const blockRect = reactive({ width: 0, height: 0 })\n    provide('window-size', blockRect)\n    onMounted(() => {\n      windows.value = inject<windowState[]>('windows', [])\n    })\n    const pullWindow = (win: windowState) => {\n      win.zIndex = incrMaxZindex()\n    }\n    const autoLayout = () => {\n      useAutoLayout(props.containerState)\n    }\n    return {\n      windows,\n      windowsListRef,\n      pullWindow,\n      autoLayout\n    }\n  }\n})\n","import { render } from \"./sidebar.vue?vue&type=template&id=e33726aa&scoped=true\"\nimport script from \"./sidebar.vue?vue&type=script&lang=ts\"\nexport * from \"./sidebar.vue?vue&type=script&lang=ts\"\n\nimport \"./sidebar.vue?vue&type=style&index=0&id=e33726aa&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-e33726aa\"\n\nexport default script","\nimport { defineComponent, provide, reactive, ref, computed, onMounted } from 'vue'\nimport { windowState } from './window'\nimport { getCallBackQuene } from '@/callbackPoll'\nimport { ContainersState, useAutoLayout } from './window-container'\nimport sidebar from './sidebar.vue'\nexport default defineComponent({\n  name: 'window-container',\n  props: {\n    bgUrl: {\n      type: String,\n      required: true\n    }\n  },\n  components: {\n    sidebar\n  },\n  setup (props) {\n    const state: ContainersState = reactive({\n      windowTriggerPool: new Map<'click', windowState[]>(),\n      bodyRect: null,\n      windows: new Array<windowState>(),\n      flagSet: new Set()\n    })\n    provide('add-trigger-window', (type: 'click', winstate: windowState) => {\n      const quene = state.windowTriggerPool.get('click')\n      if (quene) {\n        quene.push(winstate)\n      } else {\n        state.windowTriggerPool.set('click', [winstate])\n      }\n    })\n    const ro = new ResizeObserver(body => {\n      state.bodyRect = body[0].target.getBoundingClientRect()\n    })\n    provide('windows', state.windows)\n    provide('window-regist', (window: windowState) => {\n      state.windows.push(window)\n    })\n    const selfRef = ref<HTMLDivElement | null>(null)\n    onMounted(() => {\n      const dom = selfRef.value\n      if (dom) {\n        ro.observe(dom)\n        setTimeout(() => {\n          useAutoLayout(state)\n        }, 0)\n      }\n    })\n    const onMouseMove = (e: MouseEvent) => {\n      getCallBackQuene('mousemove').forEach((cb) => cb(e))\n    }\n    const style = computed(() => `background-image:url(${props.bgUrl})`)\n    return {\n      window,\n      selfRef,\n      onMouseMove,\n      style,\n      state\n    }\n  }\n})\n","import { render } from \"./window-container.vue?vue&type=template&id=5cfd4800&scoped=true\"\nimport script from \"./window-container.vue?vue&type=script&lang=ts\"\nexport * from \"./window-container.vue?vue&type=script&lang=ts\"\n\nimport \"./window-container.vue?vue&type=style&index=0&id=5cfd4800&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5cfd4800\"\n\nexport default script","<template>\n  <div :class=\"[...classList,'base-col-class']\">\n    <slot />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, ComputedRef } from 'vue'\nimport { BreakPointFlag, usePriorityBreakPoint, breakPointPriorityListAsc } from '@/util'\n\ntype BreakPointObjPart = { [k in BreakPointFlag]?: number }\ntype ColParams = number|BreakPointObjPart\ntype ColParamsRef = ComputedRef<ColParams>\n\nconst useColClass = (breakPoint: ReturnType<typeof usePriorityBreakPoint>, offset: ColParamsRef, span: ColParamsRef) => {\n  const classList = computed(() => {\n    const list = new Array<string>()\n    const o = offset.value\n    const s = span.value\n    const bp = breakPoint.value\n    // 在所有实现中优先使用最小尺寸，如果没实现，从这个位置向最大进行匹配\n    if (typeof o === 'number') {\n      list.push(`col-offset-${o}`)\n    } else {\n      const availableBreakPoint = bp.filter(flag => o[flag])[0] // 选取实现了且优先级最高的\n      if (availableBreakPoint) {\n        list.push(`col-offset-${o[availableBreakPoint]}`)\n      } else { // 没实现进行回退\n        const priorityList = breakPointPriorityListAsc\n        const topPriority = bp[0]\n        for (let index = priorityList.indexOf(topPriority) + 1; index < priorityList.length; index++) {\n          if (o[priorityList[index]]) {\n            list.push(`col-offset-${o[priorityList[index]]}`)\n            break\n          }\n        }\n      }\n    }\n    if (typeof s === 'number') {\n      list.push(`col-span-${s}`)\n    } else {\n      const availableBreakPoint = bp.filter(flag => s[flag])[0]\n      if (availableBreakPoint) {\n        list.push(`col-span-${s[availableBreakPoint]}`)\n      } else { // 没实现进行回退\n        const priorityList = breakPointPriorityListAsc\n        const topPriority = bp[0]\n        for (let index = priorityList.indexOf(topPriority) + 1; index < priorityList.length; index++) {\n          if (s[priorityList[index]]) {\n            list.push(`col-span-${s[priorityList[index]]}`)\n            break\n          }\n        }\n      }\n    }\n    return list\n  })\n  return {\n    classList\n  }\n}\nexport default defineComponent({\n  name: 'fd-col',\n  props: {\n    span: {\n      default: () => {\n        if (' '.length) { // 这么做是因为vue弱鸡的类型推断\n          throw new Error('col组件的span必填！')\n        }\n        return 0 as string | ColParams\n      }\n    },\n    offset: {\n      default: 0 as number | ColParams\n    }\n  },\n  setup (props) {\n    const breakPoint = usePriorityBreakPoint()\n    const span = computed(() => {\n      const s = props.span\n      const res = typeof s === 'string' ? Number(s) : s\n      return res\n    })\n    const offset = computed(() => {\n      const o = props.offset\n      const res = typeof o === 'string' ? Number(o) : o\n      return res\n    })\n    const { classList } = useColClass(breakPoint, offset, span)\n    return {\n      classList\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.base-col-class {\n  display: inline-block;\n}\n@mixin CalcSpan($per) {\n  width: 100% * $per / 24;\n}\n@mixin CalcOffset($per) {\n  margin-left: 100% * $per / 24;\n}\n.col-span-0 {\n  @include CalcSpan(0);\n}\n.col-span-1 {\n  @include CalcSpan(1);\n}\n.col-span-2 {\n  @include CalcSpan(2);\n}\n.col-span-3 {\n  @include CalcSpan(3);\n}\n.col-span-4 {\n  @include CalcSpan(4);\n}\n.col-span-5 {\n  @include CalcSpan(5);\n}\n.col-span-6 {\n  @include CalcSpan(6);\n}\n.col-span-7 {\n  @include CalcSpan(7);\n}\n.col-span-8 {\n  @include CalcSpan(8);\n}\n.col-span-9 {\n  @include CalcSpan(9);\n}\n.col-span-10 {\n  @include CalcSpan(10);\n}\n.col-span-11 {\n  @include CalcSpan(11);\n}\n.col-span-12 {\n  @include CalcSpan(12);\n}\n.col-span-13 {\n  @include CalcSpan(13);\n}\n.col-span-14 {\n  @include CalcSpan(14);\n}\n.col-span-15 {\n  @include CalcSpan(15);\n}\n.col-span-16 {\n  @include CalcSpan(16);\n}\n.col-span-17 {\n  @include CalcSpan(17);\n}\n.col-span-18 {\n  @include CalcSpan(18);\n}\n.col-span-19 {\n  @include CalcSpan(19);\n}\n.col-span-20 {\n  @include CalcSpan(20);\n}\n.col-span-21 {\n  @include CalcSpan(12);\n}\n.col-span-22 {\n  @include CalcSpan(22);\n}\n.col-span-23 {\n  @include CalcSpan(23);\n}\n.col-span-24 {\n  @include CalcSpan(24);\n}\n.col-offset-0 {\n  @include CalcOffset(0);\n}\n.col-offset-1 {\n  @include CalcOffset(1);\n}\n.col-offset-2 {\n  @include CalcOffset(2);\n}\n.col-offset-3 {\n  @include CalcOffset(3);\n}\n.col-offset-4 {\n  @include CalcOffset(4);\n}\n.col-offset-5 {\n  @include CalcOffset(5);\n}\n.col-offset-6 {\n  @include CalcOffset(6);\n}\n.col-offset-7 {\n  @include CalcOffset(7);\n}\n.col-offset-8 {\n  @include CalcOffset(8);\n}\n.col-offset-9 {\n  @include CalcOffset(9);\n}\n.col-offset-10 {\n  @include CalcOffset(10);\n}\n.col-offset-11 {\n  @include CalcOffset(11);\n}\n.col-offset-12 {\n  @include CalcOffset(12);\n}\n.col-offset-13 {\n  @include CalcOffset(13);\n}\n.col-offset-14 {\n  @include CalcOffset(14);\n}\n.col-offset-15 {\n  @include CalcOffset(15);\n}\n.col-offset-16 {\n  @include CalcOffset(16);\n}\n.col-offset-17 {\n  @include CalcOffset(17);\n}\n.col-offset-18 {\n  @include CalcOffset(18);\n}\n.col-offset-19 {\n  @include CalcOffset(19);\n}\n.col-offset-20 {\n  @include CalcOffset(20);\n}\n.col-offset-21 {\n  @include CalcOffset(12);\n}\n.col-offset-22 {\n  @include CalcOffset(22);\n}\n.col-offset-23 {\n  @include CalcOffset(23);\n}\n.col-offset-24 {\n  @include CalcOffset(24);\n}\n</style>\n","\nimport { defineComponent, computed, ComputedRef } from 'vue'\nimport { BreakPointFlag, usePriorityBreakPoint, breakPointPriorityListAsc } from '@/util'\n\ntype BreakPointObjPart = { [k in BreakPointFlag]?: number }\ntype ColParams = number|BreakPointObjPart\ntype ColParamsRef = ComputedRef<ColParams>\n\nconst useColClass = (breakPoint: ReturnType<typeof usePriorityBreakPoint>, offset: ColParamsRef, span: ColParamsRef) => {\n  const classList = computed(() => {\n    const list = new Array<string>()\n    const o = offset.value\n    const s = span.value\n    const bp = breakPoint.value\n    // 在所有实现中优先使用最小尺寸，如果没实现，从这个位置向最大进行匹配\n    if (typeof o === 'number') {\n      list.push(`col-offset-${o}`)\n    } else {\n      const availableBreakPoint = bp.filter(flag => o[flag])[0] // 选取实现了且优先级最高的\n      if (availableBreakPoint) {\n        list.push(`col-offset-${o[availableBreakPoint]}`)\n      } else { // 没实现进行回退\n        const priorityList = breakPointPriorityListAsc\n        const topPriority = bp[0]\n        for (let index = priorityList.indexOf(topPriority) + 1; index < priorityList.length; index++) {\n          if (o[priorityList[index]]) {\n            list.push(`col-offset-${o[priorityList[index]]}`)\n            break\n          }\n        }\n      }\n    }\n    if (typeof s === 'number') {\n      list.push(`col-span-${s}`)\n    } else {\n      const availableBreakPoint = bp.filter(flag => s[flag])[0]\n      if (availableBreakPoint) {\n        list.push(`col-span-${s[availableBreakPoint]}`)\n      } else { // 没实现进行回退\n        const priorityList = breakPointPriorityListAsc\n        const topPriority = bp[0]\n        for (let index = priorityList.indexOf(topPriority) + 1; index < priorityList.length; index++) {\n          if (s[priorityList[index]]) {\n            list.push(`col-span-${s[priorityList[index]]}`)\n            break\n          }\n        }\n      }\n    }\n    return list\n  })\n  return {\n    classList\n  }\n}\nexport default defineComponent({\n  name: 'fd-col',\n  props: {\n    span: {\n      default: () => {\n        if (' '.length) { // 这么做是因为vue弱鸡的类型推断\n          throw new Error('col组件的span必填！')\n        }\n        return 0 as string | ColParams\n      }\n    },\n    offset: {\n      default: 0 as number | ColParams\n    }\n  },\n  setup (props) {\n    const breakPoint = usePriorityBreakPoint()\n    const span = computed(() => {\n      const s = props.span\n      const res = typeof s === 'string' ? Number(s) : s\n      return res\n    })\n    const offset = computed(() => {\n      const o = props.offset\n      const res = typeof o === 'string' ? Number(o) : o\n      return res\n    })\n    const { classList } = useColClass(breakPoint, offset, span)\n    return {\n      classList\n    }\n  }\n})\n","import { render } from \"./col.vue?vue&type=template&id=1c65c784&scoped=true\"\nimport script from \"./col.vue?vue&type=script&lang=ts\"\nexport * from \"./col.vue?vue&type=script&lang=ts\"\n\nimport \"./col.vue?vue&type=style&index=0&id=1c65c784&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1c65c784\"\n\nexport default script","<template>\n<div>\n    <slot/>\n</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n  name: 'fd-row',\n  props: {\n  },\n  setup () {\n    return {\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n  name: 'fd-row',\n  props: {\n  },\n  setup () {\n    return {\n    }\n  }\n})\n","import { render } from \"./row.vue?vue&type=template&id=8052f986&scoped=true\"\nimport script from \"./row.vue?vue&type=script&lang=ts\"\nexport * from \"./row.vue?vue&type=script&lang=ts\"\n\nimport \"./row.vue?vue&type=style&index=0&id=8052f986&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-8052f986\"\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\nimport window from './components/window.vue'\nimport reveal from './components/reveal.vue'\nimport revealContainer from './components/reveal-container.vue'\nimport windowContainer from './components/window-container.vue'\nimport col from './components/col.vue'\nimport row from './components/row.vue'\n\nconst root = createApp(App)\nconst components = [\n  window,\n  reveal,\n  revealContainer,\n  windowContainer,\n  col,\n  row\n]\ncomponents.forEach(item => {\n  root.component(item.name, item)\n})\nroot.mount('#app')\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./window.vue?vue&type=style&index=0&id=390b05ae&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./window.vue?vue&type=style&index=0&id=390b05ae&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./reveal-container.vue?vue&type=style&index=0&id=6164e438&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./reveal-container.vue?vue&type=style&index=0&id=6164e438&lang=scss&scoped=true\""],"sourceRoot":""}