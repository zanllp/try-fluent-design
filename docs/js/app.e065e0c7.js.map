{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/block.vue?d3e7","webpack:///./src/components/block-container.vue?8956","webpack:///./src/components/window-container.vue?a304","webpack:///./src/components/window.vue?cacb","webpack:///./src/components/calendar.vue?c6a0","webpack:///./src/components/calculator.vue?a649","webpack:///./src/App.vue","webpack:///./src/store.ts","webpack:///./src/util.ts","webpack:///./src/components/calculator.vue","webpack:///./src/components/calculator.vue?382a","webpack:///./src/components/calculator.vue?3a91","webpack:///./src/components/calendar.vue","webpack:///./src/components/calendar.vue?2cfe","webpack:///./src/components/calendar.vue?97e4","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/components/window.vue","webpack:///./src/callbackPoll.ts","webpack:///./src/components/window.ts","webpack:///./src/components/window.vue?2b79","webpack:///./src/components/window.vue?caaf","webpack:///./src/components/block.vue","webpack:///./src/components/block.vue?f773","webpack:///./src/components/block.vue?c20b","webpack:///./src/components/block-container.vue","webpack:///./src/components/block-container.vue?3573","webpack:///./src/components/block-container.vue?86ea","webpack:///./src/components/window-container.vue","webpack:///./src/components/window-container.vue?99f1","webpack:///./src/components/window-container.vue?1f70","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","bg-url","bgUrl","windows","init-pos","darkMode","type","blocks","block","style","sharedState","idPool","num2color","g","b","arr","id","createArray","num","createFn","Array","fill","map","_","dark","size","tempText","displayText","operators","op","keydown","numKeys","setup","displayTextList","join","codeList","clacMethodMap","calc","readNum","Number","undefined","resetArray","rest","code","dl","pop","render","__scopeId","onActionBtnClick","day","format","bucketsMap","buckets","week","idx","dayN","dayIdx","data-now","onDayBtnClick","locale","extend","month","year","set","days","act","add","subtract","nextDay","reduce","currDay","dayIndex","components","calculator","calendar","top","left","String","fromCharCode","control","release","colorLayerStyle","eventPool","Map","addCallBack","event","cb","quene","getCallBackQuene","cursorMap","start","resize","initPos","offset","zIndex","backgroundPos","flagSet","Set","state","bgPos","from","keys","width","height","maxZIndex","incrMaxZindex","useWindowControl","_e","stateStack","e","has","clear","move","movementX","movementY","areaLeft","areaTop","areaSide","pageX","pageY","lastState","forEach","props","default","Boolean","windowRegist","ref","ro","domRef","rect","blockId","unmountedBlock","regist","updateState","onWillUpdateRect","dom","Error","ResizeObserver","entries","target","getBoundingClientRect","observe","disconnect","stop-color","version","xmlns","xmlns:xlink","viewBox","Math","max","windowSize","cx","svgCursorPercent","x","cy","y","layout","item","stroke","stroke-width","maxSide","isStart","mask","windowOffset","svgRef","svgRect","svgObserver","_entries","mounted","unmounted","svgStateStack","delete","cursorMove","svg","res","filter","idCounter","updateQuene","findIndex","initOffset","refreshMask","val","blockContainerRef","deep","immediate","onMouseMove","pullWindow","required","windowsListRef","selfRef","blockRect","updateWindowSize","setTimeout","win","root","App","component","mount"],"mappings":"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","file":"js/app.e065e0c7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./block.vue?vue&type=style&index=0&id=68e90022&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./block.vue?vue&type=style&index=0&id=68e90022&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./block-container.vue?vue&type=style&index=0&id=baddbc5e&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./block-container.vue?vue&type=style&index=0&id=baddbc5e&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./window-container.vue?vue&type=style&index=0&id=048d79a8&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./window-container.vue?vue&type=style&index=0&id=048d79a8&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./window.vue?vue&type=style&index=0&id=e742e2e4&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./window.vue?vue&type=style&index=0&id=e742e2e4&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./calendar.vue?vue&type=style&index=0&id=0395250a&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./calendar.vue?vue&type=style&index=0&id=0395250a&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./calculator.vue?vue&type=style&index=0&id=54e276c8&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./calculator.vue?vue&type=style&index=0&id=54e276c8&lang=scss&scoped=true\"","<template>\n  <window-container class=\"window-manage\" :bg-url=\"bgUrl\">\n    <window v-for=\"window in windows\" :key=\"window.i\" :init-pos=\"window\" :name=\"window.name\">\n      <span>暗黑模式</span>\n      <input v-model=\"darkMode\" type=\"checkbox\" />\n      <h1>Create a responsive layout-{{ window.i + 1 }}</h1>\n      <p>\n        For an app to feel natural, it should adapt its layout to different screen sizes and devices.\n        You can use automatic sizing, layout panels, visual states, and even separate UI definitions\n        in XAML to create a responsive UI.\n      </p>\n    </window>\n    <window :init-pos=\"{ top: 512, left: 480 }\" name=\"case\">\n      <block-container>\n        <block v-for=\"block in blocks\" :key=\"block\" :value=\"block\" style=\"padding:4px;\">{{ block }}</block>\n        <block v-for=\"block in blocks\" :key=\"block\" :value=\"block\" style=\"margin:4px;\">{{ block }}</block>\n        <block>1</block>\n        <block style=\"cursor:pointer;\">hello world</block>\n      </block-container>\n    </window>\n    <calculator/>\n    <calendar/>\n  </window-container>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, toRef, reactive } from 'vue'\nimport { sharedState } from './store'\nimport { createArray } from './util'\nimport calculator from './components/calculator.vue'\nimport calendar from './components/calendar.vue'\nconst bgUrl = 'https://static.ioflow.link/0cfedb5240eadc505e723bf2bc4f14e8bf7eb3fb96fc6ea53e856f3f863c2ba0d38f83de492f609290bc6ad0a9a2b583.jpg'\nexport default defineComponent({\n  components: {\n    // eslint-disable-next-line vue/no-unused-components\n    calculator,\n    calendar\n  },\n  name: 'App',\n  setup () {\n    const windows = reactive(createArray(2,\n      i => ({\n        top: 256 + i * 72,\n        left: 256 + i * 72,\n        name: 'window - ' + i,\n        i\n      }))\n    )\n    const blocks = reactive(createArray(26, idx => String.fromCharCode(65 + idx)))\n    return {\n      window,\n      darkMode: toRef(sharedState, 'darkMode'),\n      windows,\n      blocks,\n      bgUrl\n    }\n  }\n})\n</script>\n","import { reactive } from 'vue'\n\nexport const sharedState = reactive({\n  darkMode: true,\n  idPool: {\n    window: [] as number[],\n    'block-container': [] as number[]\n  }\n})\n","import { sharedState } from './store'\n\nexport const num2color = (c: number) => {\n  const r = c >> 16\n  const g = (c >> 8) & 0xff\n  const b = c & 0xff\n  return [r, g, b]\n}\nexport type BlockState = {\n  value?: string;\n  rect: {\n    height: number;\n    width: number;\n  };\n};\nexport type Size = BlockState['rect'];\nexport type AnyBlockState = {\n  value?: string;\n  rect: DOMRect | null;\n  id: number;\n};\n/**\n * 共享状态里获取一个自增id\n */\nexport const getIncrementId = (type: keyof typeof sharedState.idPool) => {\n  const arr = sharedState.idPool[type]\n  const id = arr.length !== 0 ? arr[arr.length - 1] + 1 : 0\n  arr.push(id)\n  return id\n}\n\nexport const createArray = <T>(num: number, createFn: (index: number) => T) => {\n  return Array(num)\n    .fill(null)\n    .map((_, i) => createFn(i))\n}\n","<template>\n  <window name=\"计算器\" :dark=\"false\" :size=\"{ height: 384, width: 512 }\">\n    <block-container>\n      <div class=\"temp-area\">{{tempText}}</div>\n      <div class=\"display-area\">{{ displayText}}</div>\n      <div>\n        <block v-for=\"op in operators\" :key=\"op\" class=\"key-btn op-btn\" @click=\"keydown(op)\">{{op}}</block>\n      </div>\n      <div>\n        <block v-for=\"key in numKeys\" :key=\"key\" class=\"key-btn\" @click=\"keydown(key)\">{{key}}</block>\n      </div>\n    </block-container>\n  </window>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, computed } from 'vue'\nimport { createArray } from '@/util'\n\nexport default defineComponent({\n  setup () {\n    const displayTextList = reactive<Array<string | number>>([0])\n    const displayText = computed(() => displayTextList.join(''))\n    const codeList = reactive(new Array<string | number>())\n    const tempText = computed(() => codeList.join(''))\n    const numKeys = reactive(createArray(10, i => i))\n    const clacMethodMap = (op: '+' | '-' | '*' | '/', l: number, r: number) => {\n      switch (op) {\n        case '+':\n          return l + r\n        case '-':\n          return l - r\n        case '*':\n          return l * r\n        case '/':\n          return l / r\n      }\n    }\n    const calc = () => {\n      const readNum = () => {\n        let n = codeList.shift()\n        while (n && typeof codeList[0] === 'number') {\n          n = `${n}${codeList.shift()}`\n        }\n        return Number(n)\n      }\n      let l = readNum()\n      while (codeList.length && l !== undefined) {\n        const op = codeList.shift()\n        const r = readNum()\n        l = clacMethodMap(op as any, l, r)\n      }\n      return l\n    }\n    const resetArray = function <T> (arr: Array<T>, ...rest: T[]) {\n      arr.splice(0, arr.length, ...rest)\n    }\n    const keydown = (code: number | string) => {\n      const dl = displayTextList\n      switch (code) {\n        case 'c':\n          resetArray(dl, 0)\n          resetArray(codeList)\n          break\n        case '+':\n        case '-':\n        case '*':\n        case '/':\n          dl.push(code)\n          codeList.push(code)\n          break\n        case 'ce':\n          resetArray(dl, 0)\n          break\n        case '=':\n          resetArray(dl, ...codeList, '=', calc())\n          break\n        case 'del':\n          dl.pop()\n          codeList.pop()\n          break\n        default:\n          codeList.push(code)\n          if (typeof dl[dl.length - 1] !== 'number') {\n            resetArray(dl)\n          }\n          if (dl.length === 1 && dl[0] === 0) {\n            dl.pop()\n          }\n          dl.push(code)\n          break\n      }\n    }\n    const operators = reactive(['+', '-', '*', '/', 'c', 'ce', '=', 'del'])\n    return {\n      numKeys,\n      displayText,\n      keydown,\n      operators,\n      tempText\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.temp-area {\n  line-height: 16px;\n  color: #b5b5b5;\n  padding: 4px;\n  text-align: right;\n}\n.display-area {\n  line-height: 32px;\n  padding: 8px;\n  text-align: right;\n  font-weight: bold;\n  font-size: 2em;\n}\n.key-btn {\n  text-align: center;\n  line-height: 48px;\n  height: 48px;\n  width: 72px;\n  background: #f2f2f2;\n  transition: 0.3s all;\n  cursor: pointer;\n  &:hover {\n    background: #b5b5b5;\n  }\n}\n.op-btn {\n  background: #d6d6d6;\n}\n</style>\n","\nimport { defineComponent, reactive, computed } from 'vue'\nimport { createArray } from '@/util'\n\nexport default defineComponent({\n  setup () {\n    const displayTextList = reactive<Array<string | number>>([0])\n    const displayText = computed(() => displayTextList.join(''))\n    const codeList = reactive(new Array<string | number>())\n    const tempText = computed(() => codeList.join(''))\n    const numKeys = reactive(createArray(10, i => i))\n    const clacMethodMap = (op: '+' | '-' | '*' | '/', l: number, r: number) => {\n      switch (op) {\n        case '+':\n          return l + r\n        case '-':\n          return l - r\n        case '*':\n          return l * r\n        case '/':\n          return l / r\n      }\n    }\n    const calc = () => {\n      const readNum = () => {\n        let n = codeList.shift()\n        while (n && typeof codeList[0] === 'number') {\n          n = `${n}${codeList.shift()}`\n        }\n        return Number(n)\n      }\n      let l = readNum()\n      while (codeList.length && l !== undefined) {\n        const op = codeList.shift()\n        const r = readNum()\n        l = clacMethodMap(op as any, l, r)\n      }\n      return l\n    }\n    const resetArray = function <T> (arr: Array<T>, ...rest: T[]) {\n      arr.splice(0, arr.length, ...rest)\n    }\n    const keydown = (code: number | string) => {\n      const dl = displayTextList\n      switch (code) {\n        case 'c':\n          resetArray(dl, 0)\n          resetArray(codeList)\n          break\n        case '+':\n        case '-':\n        case '*':\n        case '/':\n          dl.push(code)\n          codeList.push(code)\n          break\n        case 'ce':\n          resetArray(dl, 0)\n          break\n        case '=':\n          resetArray(dl, ...codeList, '=', calc())\n          break\n        case 'del':\n          dl.pop()\n          codeList.pop()\n          break\n        default:\n          codeList.push(code)\n          if (typeof dl[dl.length - 1] !== 'number') {\n            resetArray(dl)\n          }\n          if (dl.length === 1 && dl[0] === 0) {\n            dl.pop()\n          }\n          dl.push(code)\n          break\n      }\n    }\n    const operators = reactive(['+', '-', '*', '/', 'c', 'ce', '=', 'del'])\n    return {\n      numKeys,\n      displayText,\n      keydown,\n      operators,\n      tempText\n    }\n  }\n})\n","import { render } from \"./calculator.vue?vue&type=template&id=54e276c8&scoped=true\"\nimport script from \"./calculator.vue?vue&type=script&lang=ts\"\nexport * from \"./calculator.vue?vue&type=script&lang=ts\"\n\nimport \"./calculator.vue?vue&type=style&index=0&id=54e276c8&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-54e276c8\"\n\nexport default script","<template>\n  <window name=\"日历\" :size=\"{ height: 550, width: 448 }\">\n    <block-container>\n      <div class=\"profile\">\n        <div class=\"action-bar\">\n          <block>\n            <div class=\"action-icon\" @click=\"onActionBtnClick('decr')\">←</div>\n          </block>\n          <block>\n            <div class=\"action-icon\" @click=\"onActionBtnClick('incr')\">→</div>\n          </block>\n        </div>\n        <div class=\"title\">{{day.format('L')}}</div>\n      </div>\n      <div>\n        <span v-for=\"n in 7\" :key=\"n\" class=\"table-cell block-adapter\">星期{{bucketsMap[n-1]}}</span>\n        <div v-for=\"(week,idx) in buckets\" :key=\"idx\">\n          <span v-for=\"(dayN,dayIdx) in week\" :key=\"dayIdx\">\n            <block\n              v-if=\"dayN !== undefined\"\n              class=\"day table-cell\"\n              :data-now=\"day.get('date')===dayN\"\n              @click=\"onDayBtnClick(dayN)\"\n            >{{dayN}}</block>\n            <div v-else class=\"block-adapter table-cell\" />\n          </span>\n        </div>\n      </div>\n    </block-container>\n  </window>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, ref } from 'vue'\nimport dayjs from 'dayjs'\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat'\nimport 'dayjs/locale/zh-cn'\nimport { createArray } from '@/util'\ndayjs.locale('zh-cn')\ndayjs.extend(LocalizedFormat)\n/**\n * 获取指定月份，年份里多少天，月份0-11\n */\nconst daysInMonth = (month: number, year: number) => {\n  return dayjs().set('year', year).set('month', month + 1).set('date', -1).get('date') + 1\n}\nexport default defineComponent({\n  setup () {\n    const day = ref(dayjs())\n    const days = computed(() => daysInMonth(day.value.get('month'), day.value.get('year')))\n    const onActionBtnClick = (act: 'incr' | 'decr') => {\n      switch (act) {\n        case 'incr':\n          day.value = day.value.add(1, 'month')\n          break\n        case 'decr':\n          day.value = day.value.subtract(1, 'month')\n          break\n      }\n    }\n    const onDayBtnClick = (nextDay: number) => {\n      day.value = day.value.set('date', nextDay)\n    }\n    const buckets = computed(() =>\n      createArray(days.value, i => i + 1)\n        .reduce<Array<Array<number>>>((p, c) => {\n          const currDay = day.value.set('date', c)\n          const dayIndex = currDay.get('day')\n          let week: Array<number>\n          if (dayIndex === 0 || p[p.length - 1].length > 6) { // 当星期天或者上周排满时\n            week = new Array<number>()\n            p.push(week)\n          } else {\n            week = p[p.length - 1]\n          }\n          week[dayIndex] = c\n          return p\n        }, [[]]\n        )\n    )\n    const bucketsMap = '天一二三四五六'\n    return {\n      days,\n      day,\n      onActionBtnClick,\n      onDayBtnClick,\n      bucketsMap,\n      buckets\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.table-cell {\n  display: inline-block;\n  height: 48px;\n  line-height: 48px;\n  text-align: center;\n  width: 48px;\n}\n.block-adapter {\n  border: 2px solid transparent;\n  margin: 2px;\n}\n.day {\n  cursor: pointer;\n  border: transparent 2px solid;\n  &[data-now=\"true\"] {\n    border: rgb(197, 197, 197) 2px solid;\n  }\n}\n.title {\n  display: inline-block;\n  margin: 0 16px;\n}\n.action-bar {\n  display: inline-block;\n  margin: 16px 0;\n  .action-icon {\n    padding: 8px;\n    cursor: pointer;\n    display: inline-block;\n  }\n}\n</style>\n","\nimport { defineComponent, computed, ref } from 'vue'\nimport dayjs from 'dayjs'\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat'\nimport 'dayjs/locale/zh-cn'\nimport { createArray } from '@/util'\ndayjs.locale('zh-cn')\ndayjs.extend(LocalizedFormat)\n/**\n * 获取指定月份，年份里多少天，月份0-11\n */\nconst daysInMonth = (month: number, year: number) => {\n  return dayjs().set('year', year).set('month', month + 1).set('date', -1).get('date') + 1\n}\nexport default defineComponent({\n  setup () {\n    const day = ref(dayjs())\n    const days = computed(() => daysInMonth(day.value.get('month'), day.value.get('year')))\n    const onActionBtnClick = (act: 'incr' | 'decr') => {\n      switch (act) {\n        case 'incr':\n          day.value = day.value.add(1, 'month')\n          break\n        case 'decr':\n          day.value = day.value.subtract(1, 'month')\n          break\n      }\n    }\n    const onDayBtnClick = (nextDay: number) => {\n      day.value = day.value.set('date', nextDay)\n    }\n    const buckets = computed(() =>\n      createArray(days.value, i => i + 1)\n        .reduce<Array<Array<number>>>((p, c) => {\n          const currDay = day.value.set('date', c)\n          const dayIndex = currDay.get('day')\n          let week: Array<number>\n          if (dayIndex === 0 || p[p.length - 1].length > 6) { // 当星期天或者上周排满时\n            week = new Array<number>()\n            p.push(week)\n          } else {\n            week = p[p.length - 1]\n          }\n          week[dayIndex] = c\n          return p\n        }, [[]]\n        )\n    )\n    const bucketsMap = '天一二三四五六'\n    return {\n      days,\n      day,\n      onActionBtnClick,\n      onDayBtnClick,\n      bucketsMap,\n      buckets\n    }\n  }\n})\n","import { render } from \"./calendar.vue?vue&type=template&id=0395250a&scoped=true\"\nimport script from \"./calendar.vue?vue&type=script&lang=ts\"\nexport * from \"./calendar.vue?vue&type=script&lang=ts\"\n\nimport \"./calendar.vue?vue&type=style&index=0&id=0395250a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0395250a\"\n\nexport default script","\nimport { defineComponent, toRef, reactive } from 'vue'\nimport { sharedState } from './store'\nimport { createArray } from './util'\nimport calculator from './components/calculator.vue'\nimport calendar from './components/calendar.vue'\nconst bgUrl = 'https://static.ioflow.link/0cfedb5240eadc505e723bf2bc4f14e8bf7eb3fb96fc6ea53e856f3f863c2ba0d38f83de492f609290bc6ad0a9a2b583.jpg'\nexport default defineComponent({\n  components: {\n    // eslint-disable-next-line vue/no-unused-components\n    calculator,\n    calendar\n  },\n  name: 'App',\n  setup () {\n    const windows = reactive(createArray(2,\n      i => ({\n        top: 256 + i * 72,\n        left: 256 + i * 72,\n        name: 'window - ' + i,\n        i\n      }))\n    )\n    const blocks = reactive(createArray(26, idx => String.fromCharCode(65 + idx)))\n    return {\n      window,\n      darkMode: toRef(sharedState, 'darkMode'),\n      windows,\n      blocks,\n      bgUrl\n    }\n  }\n})\n","import { render } from \"./App.vue?vue&type=template&id=beea0060\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div\n    class=\"container-wrap\"\n    :style=\"style\"\n    @mousedown.left=\"control\"\n    @mouseup.left=\"release\"\n    @mouseleave=\"release\"\n  >\n    <div class=\"blur-layer\">\n      <div class=\"color-layer\" :style=\"colorLayerStyle\">\n        <div class=\"noise-layer\"></div>\n      </div>\n    </div>\n    <div class=\"content\" :style=\"`color:${darkMode?'white':'black'}`\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, computed, onMounted, toRef, provide, inject, ref } from 'vue'\nimport { addCallBack } from '@/callbackPoll'\nimport { sharedState } from '../store'\nimport { num2color } from '@/util'\nimport {\n  useWindowWrapStyle,\n  useInitState,\n  useWindowControl\n} from './window'\n\nexport default defineComponent({\n  name: 'window',\n  props: {\n    initPos: {\n      default: () => ({\n        top: 256,\n        left: 256\n      })\n    },\n    name: {\n      type: String,\n      default: ''\n    },\n    dark: {\n      type: Boolean,\n      default: undefined\n    },\n    size: {\n      default: () => ({ width: 512, height: 256 })\n    }\n  },\n  setup (props) {\n    const p = props\n    const state = useInitState(p.initPos, p.name, p.size)\n    const { style } = useWindowWrapStyle(state)\n    const { move, control, release } = useWindowControl(state)\n    provide('window-size', state.size)\n    provide('window-offset', state.offset)\n    const windowRegist = inject<(window: typeof state) => void>('window-regist')\n    onMounted(() => {\n      addCallBack('mousemove', move)\n      if (windowRegist) {\n        windowRegist(state)\n      }\n    })\n    const darkMode = ref(\n      props.dark === undefined\n        ? toRef(sharedState, 'darkMode')\n        : props.dark\n    )\n    const colorLayerStyle = computed(() => {\n      return `background: rgba(${num2color(\n        darkMode.value ? 0 : 0xffffff\n      )}, 0.4)`\n    })\n    return {\n      style,\n      colorLayerStyle,\n      release,\n      control,\n      darkMode\n    }\n  }\n})\n</script>\n<style lang=\"scss\" scoped>\n.container-wrap {\n  user-select: none;\n  position: fixed;\n  background: inherit;\n  overflow: hidden;\n  border: 2px solid #aaa;\n  .blur-layer {\n    position: relative;\n    top: -16px;\n    left: -16px;\n    width: calc(100% + 32px);\n    height: calc(100% + 32px);\n    background: inherit;\n    filter: blur(12px);\n    * {\n      width: 100%;\n      height: 100%;\n    }\n    .color-layer {\n      background: rgba(255, 255, 255, 0.6);\n    }\n  }\n\n  .content {\n    padding: 16px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    word-break: normal;\n    z-index: 3;\n    box-sizing: border-box;\n  }\n}\n</style>\n","export type eventType = 'mousemove'\nexport type fnType = (e: MouseEvent) => void\nconst eventPool = new Map<eventType, Array<fnType>>()\nexport const addCallBack = (event: eventType, cb: fnType) => {\n  const quene = eventPool.get(event)\n  if (quene) {\n    quene.push(cb)\n  } else {\n    eventPool.set(event, [cb])\n  }\n}\n\nexport const getCallBackQuene = (event: eventType) => {\n  return eventPool.get(event) || []\n}\n","import { computed, reactive } from 'vue'\nimport { getIncrementId, Size } from '@/util'\n\nexport type StateFlag = 'start' | 'resize'\nconst cursorMap: { [k in StateFlag]: string } = {\n  start: 'move',\n  resize: 'nwse-resize'\n}\ntype Pos = { top: number; left: number }\nexport const useInitState = (initPos: Pos, name: string, size: Size) => {\n  return reactive({\n    offset: { top: 0, left: 0 },\n    size,\n    zIndex: 0,\n    backgroundPos: { top: 0, left: 0 },\n    flagSet: new Set<StateFlag>(),\n    initPos,\n    name,\n    id: getIncrementId('window')\n  })\n}\nexport type windowState = ReturnType<typeof useInitState>\nexport const useWindowWrapStyle = (state: windowState) => {\n  const s = state\n  const style = computed(() => {\n    const bgPos = {\n      // 2边框，16白边切除的补偿\n      top: -s.offset.top - s.initPos.top - 2 + 16,\n      left: -s.offset.left - s.initPos.left - 2 + 16\n    }\n    return `\n          background-position:${bgPos.left}px ${bgPos.top}px;\n          transform:translate(${s.offset.left}px,${s.offset.top}px);\n          cursor:${cursorMap[Array.from(s.flagSet.keys())[0]]};\n          width:${s.size.width}px;\n          height:${s.size.height}px;\n          top:${s.initPos.top}px;\n          left:${s.initPos.left}px;\n          z-index:${s.zIndex}`\n  })\n  return {\n    style\n  }\n}\n\nexport let maxZIndex = 1\nexport const incrMaxZindex = () => ++maxZIndex\n/**\n * 窗口移动和组件重置\n */\nexport const useWindowControl = (state: windowState) => {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const control = (_e: MouseEvent) => {\n    state.flagSet.add('start')\n    if (state.zIndex < maxZIndex) {\n      state.zIndex = maxZIndex + 1 // 让点击到窗口保持在最上层\n      maxZIndex = state.zIndex\n    }\n  }\n  const stateStack = new Array<Array<StateFlag>>()\n  const s = state\n  const release = (e: MouseEvent) => {\n    const { type } = e\n    switch (type) {\n      case 'mouseleave':\n        !state.flagSet.has('resize') && state.flagSet.clear()\n        break\n      case 'mouseup':\n        state.flagSet.clear()\n        break\n    }\n  }\n  const move = (e: MouseEvent) => {\n    if (s.flagSet.has('start')) {\n      if (s.flagSet.has('resize')) {\n        s.size.width += e.movementX\n        s.size.height += e.movementY\n      } else {\n        s.offset.left += e.movementX\n        s.offset.top += e.movementY\n      }\n    }\n    const areaLeft = s.offset.left + s.initPos.left + s.size.width\n    const areaTop = s.offset.top + s.initPos.top + s.size.height\n    const areaSide = 16\n    if (areaLeft - e.pageX > 0 && areaLeft - e.pageX < areaSide && areaTop - e.pageY > 0 && areaTop - e.pageY < areaSide) {\n      if (!s.flagSet.has('resize')) { // 进入重置区域\n        stateStack.push(Array.from(s.flagSet))\n      }\n      s.flagSet.add('resize')\n    } else {\n      if (s.flagSet.has('resize')) {\n        const lastState = stateStack.pop()\n        if (lastState) {\n          s.flagSet.clear()\n          lastState.forEach(state => s.flagSet.add(state))\n        }\n      }\n    }\n  }\n  return {\n    release,\n    control,\n    move\n  }\n}\n","\nimport { defineComponent, computed, onMounted, toRef, provide, inject, ref } from 'vue'\nimport { addCallBack } from '@/callbackPoll'\nimport { sharedState } from '../store'\nimport { num2color } from '@/util'\nimport {\n  useWindowWrapStyle,\n  useInitState,\n  useWindowControl\n} from './window'\n\nexport default defineComponent({\n  name: 'window',\n  props: {\n    initPos: {\n      default: () => ({\n        top: 256,\n        left: 256\n      })\n    },\n    name: {\n      type: String,\n      default: ''\n    },\n    dark: {\n      type: Boolean,\n      default: undefined\n    },\n    size: {\n      default: () => ({ width: 512, height: 256 })\n    }\n  },\n  setup (props) {\n    const p = props\n    const state = useInitState(p.initPos, p.name, p.size)\n    const { style } = useWindowWrapStyle(state)\n    const { move, control, release } = useWindowControl(state)\n    provide('window-size', state.size)\n    provide('window-offset', state.offset)\n    const windowRegist = inject<(window: typeof state) => void>('window-regist')\n    onMounted(() => {\n      addCallBack('mousemove', move)\n      if (windowRegist) {\n        windowRegist(state)\n      }\n    })\n    const darkMode = ref(\n      props.dark === undefined\n        ? toRef(sharedState, 'darkMode')\n        : props.dark\n    )\n    const colorLayerStyle = computed(() => {\n      return `background: rgba(${num2color(\n        darkMode.value ? 0 : 0xffffff\n      )}, 0.4)`\n    })\n    return {\n      style,\n      colorLayerStyle,\n      release,\n      control,\n      darkMode\n    }\n  }\n})\n","import { render } from \"./window.vue?vue&type=template&id=e742e2e4&scoped=true\"\nimport script from \"./window.vue?vue&type=script&lang=ts\"\nexport * from \"./window.vue?vue&type=script&lang=ts\"\n\nimport \"./window.vue?vue&type=style&index=0&id=e742e2e4&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-e742e2e4\"\n\nexport default script","<template>\n  <div class=\"block\" ref=\"domRef\">\n    <slot></slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\n\nimport { defineComponent, onMounted, inject, ref, onUnmounted } from 'vue'\nimport { AnyBlockState } from '@/util'\n\nexport default defineComponent({\n  name: 'block',\n  props: {\n    value: {\n      type: String\n    }\n  },\n  setup (props) {\n    const domRef = ref<HTMLElement>()\n    const rect = ref<DOMRect | null>(null)\n    let ro: ResizeObserver\n    const blockId = ref<number>()\n    const unmountedBlock = inject<(id: number) => void>('unmounted-block')\n    const regist = inject<(state: AnyBlockState) => number>('regist-any-block')\n    const updateState = inject<(state: AnyBlockState) => number>('update-block-state')\n    const onWillUpdateRect = inject<(cb: () => void, id: number) => void>('on-will-update-rect')\n    onMounted(() => {\n      const dom = domRef.value\n      if (!dom) {\n        throw new Error('任意形状块获取dom失败!!!')\n      }\n      if (!(regist && updateState && onWillUpdateRect)) {\n        throw new Error('block组件必须在block-container组件的包裹下')\n      }\n      ro = new ResizeObserver(entries => {\n        rect.value = entries[0].target.getBoundingClientRect()\n        updateState({ value: props.value, rect: rect.value, id: blockId.value || -1 })\n      })\n      ro.observe(dom)\n      blockId.value = regist({ value: props.value, rect: rect.value, id: -1 })\n      onWillUpdateRect(() => {\n        rect.value = dom.getBoundingClientRect()\n        updateState({ value: props.value, rect: rect.value, id: blockId.value! })\n      }, blockId.value)\n    })\n    onUnmounted(() => {\n      const dom = domRef.value\n      if (dom && ro) {\n        ro.disconnect()\n      }\n      unmountedBlock && unmountedBlock(blockId.value!)\n    })\n    return {\n      domRef\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.block-wrap {\n  display: inline-block;\n}\n.block {\n  display: inline-block;\n  border: 2px solid transparent;\n  margin: 2px;\n}\n</style>\n","\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\n\nimport { defineComponent, onMounted, inject, ref, onUnmounted } from 'vue'\nimport { AnyBlockState } from '@/util'\n\nexport default defineComponent({\n  name: 'block',\n  props: {\n    value: {\n      type: String\n    }\n  },\n  setup (props) {\n    const domRef = ref<HTMLElement>()\n    const rect = ref<DOMRect | null>(null)\n    let ro: ResizeObserver\n    const blockId = ref<number>()\n    const unmountedBlock = inject<(id: number) => void>('unmounted-block')\n    const regist = inject<(state: AnyBlockState) => number>('regist-any-block')\n    const updateState = inject<(state: AnyBlockState) => number>('update-block-state')\n    const onWillUpdateRect = inject<(cb: () => void, id: number) => void>('on-will-update-rect')\n    onMounted(() => {\n      const dom = domRef.value\n      if (!dom) {\n        throw new Error('任意形状块获取dom失败!!!')\n      }\n      if (!(regist && updateState && onWillUpdateRect)) {\n        throw new Error('block组件必须在block-container组件的包裹下')\n      }\n      ro = new ResizeObserver(entries => {\n        rect.value = entries[0].target.getBoundingClientRect()\n        updateState({ value: props.value, rect: rect.value, id: blockId.value || -1 })\n      })\n      ro.observe(dom)\n      blockId.value = regist({ value: props.value, rect: rect.value, id: -1 })\n      onWillUpdateRect(() => {\n        rect.value = dom.getBoundingClientRect()\n        updateState({ value: props.value, rect: rect.value, id: blockId.value! })\n      }, blockId.value)\n    })\n    onUnmounted(() => {\n      const dom = domRef.value\n      if (dom && ro) {\n        ro.disconnect()\n      }\n      unmountedBlock && unmountedBlock(blockId.value!)\n    })\n    return {\n      domRef\n    }\n  }\n})\n","import { render } from \"./block.vue?vue&type=template&id=68e90022&scoped=true\"\nimport script from \"./block.vue?vue&type=script&lang=ts\"\nexport * from \"./block.vue?vue&type=script&lang=ts\"\n\nimport \"./block.vue?vue&type=style&index=0&id=68e90022&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-68e90022\"\n\nexport default script","<template>\n  <div class=\"block-container\" @mousemove=\"control\" @mouseleave=\"release\" ref=\"blockContainerRef\">\n    <slot></slot>\n    <svg\n      class=\"svg-mask\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n      :viewBox=\"`0 0 ${Math.max(windowSize.width - 32, 0)} ${Math.max(windowSize.height - 32, 0)}`\"\n      ref=\"svgRef\"\n    >\n      <defs>\n        <radialGradient :id=\"`Gradient-${id}`\" :cx=\"svgCursorPercent.x\" :cy=\"svgCursorPercent.y\" r=\"0.2\">\n          <stop offset=\"0%\" stop-color=\"white\" />\n          <stop offset=\"100%\" stop-color=\"transparent\" />\n        </radialGradient>\n        <mask :id=\"`Mask-${id}`\">\n          <template v-for=\"item in layout\">\n            <rect\n              :x=\"item.x-1\"\n              :y=\"item.y-1\"\n              :width=\"item.width\"\n              :height=\"item.height\"\n              :key=\"item.i\"\n              fill=\"black\"\n              stroke=\"white\"\n              stroke-width=\"2\"\n            />\n          </template>\n        </mask>\n      </defs>\n      <rect\n        x=\"0\"\n        y=\"0\"\n        :width=\"maxSide\"\n        :height=\"maxSide\"\n        :fill=\"isStart?`url(\\'#Gradient-${id}\\')`:'transparent'\"\n        :mask=\"isStart?`url(\\'#Mask-${id}\\')`:undefined\"\n      />\n    </svg>\n  </div>\n</template>\n<script lang=\"tsx\">\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\n\nimport {\n  defineComponent,\n  ref,\n  onMounted,\n  provide,\n  inject,\n  watch,\n  computed,\n  reactive,\n  Ref,\n  onUnmounted\n} from 'vue'\nimport { debounce } from 'lodash'\nimport { addCallBack } from '@/callbackPoll'\nimport { Size, AnyBlockState, getIncrementId } from '@/util'\n\nconst useSvg = (windowSize: Ref<Size>, windowOffset: Ref<{ top: number;left: number }>) => {\n  type state = {\n    rect: {\n      width: number;\n      height: number;\n    };\n    value?: string;\n    i: number;\n  }\n  const svgRef = ref<SVGElement>()\n  const svgRect = ref<DOMRect>()\n  // 太麻烦，暂时不用\n  const svgObserver = {\n    ro: new ResizeObserver(_entries => {\n      svgRect.value = svgRef.value!.getBoundingClientRect()\n    }),\n    mounted: () => {\n      const dom = svgRef.value\n      if (!dom) {\n        throw new Error('获取svg dom失败!!!')\n      }\n      svgRect.value = dom.getBoundingClientRect()\n      svgObserver.ro.observe(dom)\n    },\n    unmounted: () => {\n      svgObserver.ro.disconnect()\n    }\n  }\n  const svgCursorPercent = ref<{ x: number | string; y: number | string }>({\n    x: 0,\n    y: 0\n  })\n  const maxSide = computed(() => Math.max(windowSize.value.height - 32, windowSize.value.width - 32, 0))\n  type Flag = 'start'\n  const svgStateStack = reactive(new Set<Flag>())\n  const control = () => {\n    svgStateStack.add('start')\n  }\n  const release = () => {\n    svgStateStack.delete('start')\n  }\n  const cursorMove = (e: MouseEvent) => {\n    const svg = svgRef.value\n    if (svgStateStack.has('start') && svg) {\n      const rect = svg.getBoundingClientRect()\n      const x = e.x - rect.x\n      const y = e.y - rect.y\n      svgCursorPercent.value = {\n        x: x / maxSide.value,\n        y: y / maxSide.value\n      }\n    }\n  }\n  const blocks = reactive(new Array<AnyBlockState>())\n  const layout = computed(() => {\n    const svg = svgRef.value\n    const rect = svg ? svg.getBoundingClientRect() : { x: 0, y: 0 }\n    const res = blocks.filter(item => item.rect)\n      .map((item) => ({\n        width: item.rect!.width,\n        height: item.rect!.height,\n        i: item.id,\n        x: item.rect!.x - rect.x,\n        y: item.rect!.y - rect.y\n      }))\n    return res\n  })\n  const isStart = computed(() => svgStateStack.has('start'))\n  return {\n    layout,\n    svgCursorPercent,\n    svgRef,\n    control,\n    release,\n    cursorMove,\n    blocks,\n    isStart,\n    maxSide,\n    svgObserver\n  }\n}\n\nconst useProvider = (blocks: Array<AnyBlockState>) => {\n  const idCounter = ref(0)\n  type QueneType = { cb: () => void; id: number }\n  const updateQuene = new Array<QueneType>()\n  provide('regist-any-block', (state: AnyBlockState) => {\n    state.id = ++idCounter.value\n    blocks.push(state)\n    return state.id\n  })\n  provide('update-block-state', (state: AnyBlockState) => {\n    const idx = blocks.findIndex(item => item.id === state.id)\n    if (idx !== -1) {\n      blocks[idx] = state\n    }\n  })\n  provide('on-will-update-rect', (cb: () => void, id: number) => {\n    updateQuene.push({ cb, id })\n  })\n  provide('unmounted-block', (id: number) => {\n    updateQuene.splice(updateQuene.findIndex(item => item.id === id), 1)\n    blocks.splice(blocks.findIndex(item => item.id === id), 1)\n  })\n  return {\n    updateQuene\n  }\n}\n\nexport default defineComponent({\n  name: 'blockContainer',\n  setup () {\n    const id = getIncrementId('block-container')\n    const initOffset = { top: 0, left: 0 }\n    const windowSize = ref({ width: 200, height: 200 })\n    const windowOffset = ref(initOffset)\n    const {\n      layout,\n      svgCursorPercent,\n      svgRef,\n      cursorMove,\n      control,\n      release,\n      blocks,\n      isStart,\n      maxSide,\n      svgObserver\n    } = useSvg(windowSize, windowOffset)\n    const { updateQuene } = useProvider(blocks)\n    const refreshMask = debounce(() => {\n      updateQuene.forEach(val => val.cb())\n    }, 100)\n    const blockContainerRef = ref<HTMLDivElement>()\n    const ro = new ResizeObserver(refreshMask)\n    onMounted(() => {\n      const dom = blockContainerRef.value\n      if (dom) {\n        ro.observe(dom)\n      }\n      const size = inject<Size>('window-size')\n      const offset = inject<typeof initOffset>('window-offset')\n      if (!(size)) {\n        throw new Error('block-container组件必须在window组件的包裹下或手动注入窗口尺寸')\n      }\n      windowSize.value = size\n      if (offset) {\n        windowOffset.value = offset\n      }\n      svgObserver.mounted()\n      if (windowSize.value) {\n        watch(() => windowSize.value, refreshMask, {\n          deep: true,\n          immediate: true\n        })\n      }\n      addCallBack('mousemove', cursorMove)\n    })\n    onUnmounted(() => {\n      svgObserver.unmounted()\n      ro.disconnect()\n    })\n    return {\n      layout,\n      svgCursorPercent,\n      svgRef,\n      control,\n      release,\n      windowSize,\n      isStart,\n      maxSide,\n      id,\n      blockContainerRef\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.block-container {\n  position: relative;\n  .svg-mask {\n    pointer-events: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n}\n</style>\n","\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\n\nimport {\n  defineComponent,\n  ref,\n  onMounted,\n  provide,\n  inject,\n  watch,\n  computed,\n  reactive,\n  Ref,\n  onUnmounted\n} from 'vue'\nimport { debounce } from 'lodash'\nimport { addCallBack } from '@/callbackPoll'\nimport { Size, AnyBlockState, getIncrementId } from '@/util'\n\nconst useSvg = (windowSize: Ref<Size>, windowOffset: Ref<{ top: number;left: number }>) => {\n  type state = {\n    rect: {\n      width: number;\n      height: number;\n    };\n    value?: string;\n    i: number;\n  }\n  const svgRef = ref<SVGElement>()\n  const svgRect = ref<DOMRect>()\n  // 太麻烦，暂时不用\n  const svgObserver = {\n    ro: new ResizeObserver(_entries => {\n      svgRect.value = svgRef.value!.getBoundingClientRect()\n    }),\n    mounted: () => {\n      const dom = svgRef.value\n      if (!dom) {\n        throw new Error('获取svg dom失败!!!')\n      }\n      svgRect.value = dom.getBoundingClientRect()\n      svgObserver.ro.observe(dom)\n    },\n    unmounted: () => {\n      svgObserver.ro.disconnect()\n    }\n  }\n  const svgCursorPercent = ref<{ x: number | string; y: number | string }>({\n    x: 0,\n    y: 0\n  })\n  const maxSide = computed(() => Math.max(windowSize.value.height - 32, windowSize.value.width - 32, 0))\n  type Flag = 'start'\n  const svgStateStack = reactive(new Set<Flag>())\n  const control = () => {\n    svgStateStack.add('start')\n  }\n  const release = () => {\n    svgStateStack.delete('start')\n  }\n  const cursorMove = (e: MouseEvent) => {\n    const svg = svgRef.value\n    if (svgStateStack.has('start') && svg) {\n      const rect = svg.getBoundingClientRect()\n      const x = e.x - rect.x\n      const y = e.y - rect.y\n      svgCursorPercent.value = {\n        x: x / maxSide.value,\n        y: y / maxSide.value\n      }\n    }\n  }\n  const blocks = reactive(new Array<AnyBlockState>())\n  const layout = computed(() => {\n    const svg = svgRef.value\n    const rect = svg ? svg.getBoundingClientRect() : { x: 0, y: 0 }\n    const res = blocks.filter(item => item.rect)\n      .map((item) => ({\n        width: item.rect!.width,\n        height: item.rect!.height,\n        i: item.id,\n        x: item.rect!.x - rect.x,\n        y: item.rect!.y - rect.y\n      }))\n    return res\n  })\n  const isStart = computed(() => svgStateStack.has('start'))\n  return {\n    layout,\n    svgCursorPercent,\n    svgRef,\n    control,\n    release,\n    cursorMove,\n    blocks,\n    isStart,\n    maxSide,\n    svgObserver\n  }\n}\n\nconst useProvider = (blocks: Array<AnyBlockState>) => {\n  const idCounter = ref(0)\n  type QueneType = { cb: () => void; id: number }\n  const updateQuene = new Array<QueneType>()\n  provide('regist-any-block', (state: AnyBlockState) => {\n    state.id = ++idCounter.value\n    blocks.push(state)\n    return state.id\n  })\n  provide('update-block-state', (state: AnyBlockState) => {\n    const idx = blocks.findIndex(item => item.id === state.id)\n    if (idx !== -1) {\n      blocks[idx] = state\n    }\n  })\n  provide('on-will-update-rect', (cb: () => void, id: number) => {\n    updateQuene.push({ cb, id })\n  })\n  provide('unmounted-block', (id: number) => {\n    updateQuene.splice(updateQuene.findIndex(item => item.id === id), 1)\n    blocks.splice(blocks.findIndex(item => item.id === id), 1)\n  })\n  return {\n    updateQuene\n  }\n}\n\nexport default defineComponent({\n  name: 'blockContainer',\n  setup () {\n    const id = getIncrementId('block-container')\n    const initOffset = { top: 0, left: 0 }\n    const windowSize = ref({ width: 200, height: 200 })\n    const windowOffset = ref(initOffset)\n    const {\n      layout,\n      svgCursorPercent,\n      svgRef,\n      cursorMove,\n      control,\n      release,\n      blocks,\n      isStart,\n      maxSide,\n      svgObserver\n    } = useSvg(windowSize, windowOffset)\n    const { updateQuene } = useProvider(blocks)\n    const refreshMask = debounce(() => {\n      updateQuene.forEach(val => val.cb())\n    }, 100)\n    const blockContainerRef = ref<HTMLDivElement>()\n    const ro = new ResizeObserver(refreshMask)\n    onMounted(() => {\n      const dom = blockContainerRef.value\n      if (dom) {\n        ro.observe(dom)\n      }\n      const size = inject<Size>('window-size')\n      const offset = inject<typeof initOffset>('window-offset')\n      if (!(size)) {\n        throw new Error('block-container组件必须在window组件的包裹下或手动注入窗口尺寸')\n      }\n      windowSize.value = size\n      if (offset) {\n        windowOffset.value = offset\n      }\n      svgObserver.mounted()\n      if (windowSize.value) {\n        watch(() => windowSize.value, refreshMask, {\n          deep: true,\n          immediate: true\n        })\n      }\n      addCallBack('mousemove', cursorMove)\n    })\n    onUnmounted(() => {\n      svgObserver.unmounted()\n      ro.disconnect()\n    })\n    return {\n      layout,\n      svgCursorPercent,\n      svgRef,\n      control,\n      release,\n      windowSize,\n      isStart,\n      maxSide,\n      id,\n      blockContainerRef\n    }\n  }\n})\n","import { render } from \"./block-container.vue?vue&type=template&id=baddbc5e&scoped=true\"\nimport script from \"./block-container.vue?vue&type=script&lang=tsx\"\nexport * from \"./block-container.vue?vue&type=script&lang=tsx\"\n\nimport \"./block-container.vue?vue&type=style&index=0&id=baddbc5e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-baddbc5e\"\n\nexport default script","<template>\n  <div class=\"window-container\" ref=\"selfRef\" @mousemove=\"onMouseMove\" :style=\"style\">\n    <slot></slot>\n    <div class=\"aside-manage-bar\">\n      <block-container>\n        <ul class=\"windows-list\" ref=\"windowsListRef\">\n          <li v-for=\"window in windows\" :key=\"window.id\">\n            <block>\n              <div class=\"profile\" @click=\"pullWindow(window)\">{{window.name}}</div>\n            </block>\n          </li>\n        </ul>\n      </block-container>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, provide, reactive, ref, computed, onMounted } from 'vue'\nimport { windowState, incrMaxZindex } from './window'\nimport { getCallBackQuene } from '@/callbackPoll'\n\nexport default defineComponent({\n  name: 'window-container',\n  props: {\n    bgUrl: {\n      type: String,\n      required: true\n    }\n  },\n  setup (props) {\n    const windows = reactive(new Array<windowState>())\n    const windowsListRef = ref<HTMLUListElement>()\n    provide('window-regist', (window: windowState) => {\n      windows.push(window)\n    })\n    const selfRef = ref<HTMLDivElement | null>(null)\n    const onMouseMove = (e: MouseEvent) => {\n      getCallBackQuene('mousemove').forEach((cb) => cb(e))\n    }\n    const style = computed(() => `background-image:url(${props.bgUrl})`)\n    const blockRect = reactive({ width: 0, height: 0 })\n    provide('window-size', blockRect)\n    onMounted(() => {\n      const updateWindowSize = () => {\n        const rect = windowsListRef.value?.getBoundingClientRect()!\n        if (!rect || (rect && rect.height === 0)) {\n          return setTimeout(updateWindowSize, 300)\n        }\n        blockRect.width = rect.width + 32 // windows有padding32\n        blockRect.height = rect.height + 32\n      }\n      updateWindowSize()\n    })\n    const pullWindow = (win: windowState) => {\n      win.zIndex = incrMaxZindex()\n    }\n    return {\n      window,\n      selfRef,\n      onMouseMove,\n      style,\n      windows,\n      windowsListRef,\n      pullWindow\n    }\n  }\n})\n</script>\n<style lang=\"scss\" scoped>\n.window-container {\n  background-size: 100vw;\n  margin: 0;\n  width: 100vw;\n  height: 100vh;\n  overflow: auto;\n  padding: 128px;\n  box-sizing: border-box;\n}\n.aside-manage-bar {\n  position: fixed;\n  right: 0;\n  border-radius: 4px;\n  height: 60vh;\n  top: 20vh;\n  .windows-list {\n    min-width: 128px;\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    .profile {\n      cursor: pointer;\n      padding: 8px;\n    }\n  }\n}\n</style>\n","\nimport { defineComponent, provide, reactive, ref, computed, onMounted } from 'vue'\nimport { windowState, incrMaxZindex } from './window'\nimport { getCallBackQuene } from '@/callbackPoll'\n\nexport default defineComponent({\n  name: 'window-container',\n  props: {\n    bgUrl: {\n      type: String,\n      required: true\n    }\n  },\n  setup (props) {\n    const windows = reactive(new Array<windowState>())\n    const windowsListRef = ref<HTMLUListElement>()\n    provide('window-regist', (window: windowState) => {\n      windows.push(window)\n    })\n    const selfRef = ref<HTMLDivElement | null>(null)\n    const onMouseMove = (e: MouseEvent) => {\n      getCallBackQuene('mousemove').forEach((cb) => cb(e))\n    }\n    const style = computed(() => `background-image:url(${props.bgUrl})`)\n    const blockRect = reactive({ width: 0, height: 0 })\n    provide('window-size', blockRect)\n    onMounted(() => {\n      const updateWindowSize = () => {\n        const rect = windowsListRef.value?.getBoundingClientRect()!\n        if (!rect || (rect && rect.height === 0)) {\n          return setTimeout(updateWindowSize, 300)\n        }\n        blockRect.width = rect.width + 32 // windows有padding32\n        blockRect.height = rect.height + 32\n      }\n      updateWindowSize()\n    })\n    const pullWindow = (win: windowState) => {\n      win.zIndex = incrMaxZindex()\n    }\n    return {\n      window,\n      selfRef,\n      onMouseMove,\n      style,\n      windows,\n      windowsListRef,\n      pullWindow\n    }\n  }\n})\n","import { render } from \"./window-container.vue?vue&type=template&id=048d79a8&scoped=true\"\nimport script from \"./window-container.vue?vue&type=script&lang=ts\"\nexport * from \"./window-container.vue?vue&type=script&lang=ts\"\n\nimport \"./window-container.vue?vue&type=style&index=0&id=048d79a8&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-048d79a8\"\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\nimport window from './components/window.vue'\nimport block from './components/block.vue'\nimport blockContainer from './components/block-container.vue'\nimport windowContainer from './components/window-container.vue'\n\nconst root = createApp(App)\nconst components = [\n  window,\n  block,\n  blockContainer,\n  windowContainer\n]\ncomponents.forEach(item => {\n  root.component(item.name, item)\n})\nroot.mount('#app')\n"],"sourceRoot":""}